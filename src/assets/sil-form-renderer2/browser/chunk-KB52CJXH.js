import{$ as zt,$a as rt,A as Sn,Aa as c,B as fe,Ba as a,C as he,Ca as h,D as hi,Da as Vt,E as gi,Ea as Mt,F as Et,Fa as N,G as vi,Ga as g,Ha as d,I as ge,Ia as Di,J as _i,Ja as Fi,K as It,Ka as Ce,L as En,La as p,M as Dt,Ma as tt,Na as _,O as T,Oa as w,P as x,Q as at,Qa as wi,R as P,Ra as be,S as b,Sa as Vi,T as k,Ta as Mi,U as yi,Ua as Ai,V as E,Va as xe,W as lt,Wa as Yt,X as K,Xa as Oi,Z as Ci,_a as ht,a as y,aa as D,ab as v,b as X,ba as F,bb as Fn,c as di,ca as bi,cb as Se,d as C,da as xi,db as et,ea as _t,eb as I,f as mt,fa as Wt,fb as Ee,g as yn,ga as In,gb as Ie,h as Cn,ha as $,hb as Ti,i as bn,ia as ft,ib as Ni,j as ce,ja as Si,jb as ki,k as xt,ka as ve,kb as R,l as ue,la as Ei,lb as De,m as de,ma as Xt,n as pi,na as s,nb as Pi,o as Ht,oa as S,p as st,q as pe,qa as _e,r as xn,ra as yt,rb as Ri,s as mi,sa as Q,sb as Mo,t as Y,ta as m,u as fi,ua as Zt,v as me,va as l,w as qt,wa as Ii,xa as Dn,y as wt,z as St,za as ye}from"./chunk-JY5ECW2K.js";function To(){let n=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Ct(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function qi(n){return n!=null&&typeof n.length=="number"}function Po(n){return e=>{if(Ct(e.value)||Ct(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Ro(n){return e=>{if(Ct(e.value)||Ct(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function jo(n){return Ct(n.value)?{required:!0}:null}function Go(n){return n.value===!0?null:{required:!0}}function Uo(n){return Ct(n.value)||ko.test(n.value)?null:{email:!0}}function Lo(n){return e=>Ct(e.value)||!qi(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Bo(n){return e=>qi(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function $o(n){if(!n)return Xi;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ct(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Xi(n){return null}function Zi(n){return n!=null}function Yi(n){return Yt(n)?Ht(n):n}function Ki(n){let e={};return n.forEach(t=>{e=t!=null?y(y({},e),t):e}),Object.keys(e).length===0?null:e}function Qi(n,e){return e.map(t=>t(n))}function Ho(n){return!n.validate}function Ji(n){return n.map(e=>Ho(e)?e:t=>e.validate(t))}function tr(n){if(!n)return null;let e=n.filter(Zi);return e.length==0?null:function(t){return Ki(Qi(t,e))}}function er(n){return n!=null?tr(Ji(n)):null}function nr(n){if(!n)return null;let e=n.filter(Zi);return e.length==0?null:function(t){let i=Qi(t,e).map(Yi);return qt(i).pipe(Y(Ki))}}function ir(n){return n!=null?nr(Ji(n)):null}function ji(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rr(n){return n._rawValidators}function or(n){return n._rawAsyncValidators}function wn(n){return n?Array.isArray(n)?n:[n]:[]}function we(n,e){return Array.isArray(n)?n.includes(e):n===e}function Gi(n,e){let t=wn(e);return wn(n).forEach(r=>{we(t,r)||t.push(r)}),t}function Ui(n,e){return wn(e).filter(t=>!we(n,t))}function kn(n){return(Pe(n)?n.validators:n)||null}function zo(n){return Array.isArray(n)?er(n):n||null}function Pn(n,e){return(Pe(e)?e.asyncValidators:n)||null}function Wo(n){return Array.isArray(n)?ir(n):n||null}function Pe(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ar(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Dt(1e3,"");if(!i[t])throw new Dt(1001,"")}function lr(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Dt(1002,"")})}function On(n,e,t=re){Rn(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Zo(n,e),Ko(n,e),Yo(n,e),Xo(n,e)}function Te(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ke(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ne(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Xo(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Rn(n,e){let t=rr(n);e.validator!==null?n.setValidators(ji(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=or(n);e.asyncValidator!==null?n.setAsyncValidators(ji(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Ne(e._rawValidators,r),Ne(e._rawAsyncValidators,r)}function ke(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=rr(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=or(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Ne(e._rawValidators,i),Ne(e._rawAsyncValidators,i),t}function Zo(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cr(n,e)})}function Yo(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cr(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ko(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Qo(n,e){n==null,Rn(n,e)}function Jo(n,e){return ke(n,e)}function ts(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function es(n){return Object.getPrototypeOf(n.constructor)===ne}function ns(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function is(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===U?t=o:es(o)?i=o:r=o}),r||i||t||null}function rs(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Li(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Bi(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function $i(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Hi,ne,A,Ao,Nn,Oo,No,U,zi,Wi,ko,ct,Ve,ee,Tt,Me,qo,Ac,L,sr,Kt,Fe,At,Qt,bt,Ae,Jt,te,Ot,Vn,Mn,Nt,Oe,An,ie,re,Ft,os,ur,ss,jn,as,ls,Gn,cs,Un,dr,us,j,ds,Ln,pr,Tn,mr,fr,hr,O=C(()=>{"use strict";v();v();R();It();En();Hi=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(S(_e),S(ve))}}static{this.\u0275dir=K({type:n})}}return n})(),ne=(()=>{class n extends Hi{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})()}static{this.\u0275dir=K({type:n,features:[Q]})}}return n})(),A=new P(""),Ao={provide:A,useExisting:T(()=>Nn),multi:!0},Nn=(()=>{class n extends ne{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})()}static{this.\u0275dir=K({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&g("change",function(u){return r.onChange(u.target.checked)})("blur",function(){return r.onTouched()})},features:[w([Ao]),Q]})}}return n})(),Oo={provide:A,useExisting:T(()=>U),multi:!0};No=new P(""),U=(()=>{class n extends Hi{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!To())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(S(_e),S(ve),S(No,8))}}static{this.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&g("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[w([Oo]),Q]})}}return n})();zi=new P(""),Wi=new P(""),ko=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ct=class{static min(e){return Po(e)}static max(e){return Ro(e)}static required(e){return jo(e)}static requiredTrue(e){return Go(e)}static email(e){return Uo(e)}static minLength(e){return Lo(e)}static maxLength(e){return Bo(e)}static pattern(e){return $o(e)}static nullValidator(e){return Xi(e)}static compose(e){return tr(e)}static composeAsync(e){return nr(e)}};Ve=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=er(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ee=class extends Ve{get formDirective(){return null}get path(){return null}},Tt=class extends Ve{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Me=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qo={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ac=X(y({},qo),{"[class.ng-submitted]":"isSubmitted"}),L=(()=>{class n extends Me{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(S(Tt,2))}}static{this.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Dn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Q]})}}return n})(),sr=(()=>{class n extends Me{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(S(ee,10))}}static{this.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Dn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Q]})}}return n})(),Kt="VALID",Fe="INVALID",At="PENDING",Qt="DISABLED",bt=class{},Ae=class extends bt{constructor(e,t){super(),this.value=e,this.source=t}},Jt=class extends bt{constructor(e,t){super(),this.pristine=e,this.source=t}},te=class extends bt{constructor(e,t){super(),this.touched=e,this.source=t}},Ot=class extends bt{constructor(e,t){super(),this.status=e,this.source=t}},Vn=class extends bt{constructor(e){super(),this.source=e}},Mn=class extends bt{constructor(e){super(),this.source=e}};Nt=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ht(()=>this.statusReactive()),this.statusReactive=yt(void 0),this._pristine=ht(()=>this.pristineReactive()),this.pristineReactive=yt(!0),this._touched=ht(()=>this.touchedReactive()),this.touchedReactive=yt(!1),this._events=new xt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rt(this.statusReactive)}set status(e){rt(()=>this.statusReactive.set(e))}get valid(){return this.status===Kt}get invalid(){return this.status===Fe}get pending(){return this.status==At}get disabled(){return this.status===Qt}get enabled(){return this.status!==Qt}get pristine(){return rt(this.pristineReactive)}set pristine(e){rt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return rt(this.touchedReactive)}set touched(e){rt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Gi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Gi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ui(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ui(e,this._rawAsyncValidators))}hasValidator(e){return we(this._rawValidators,e)}hasAsyncValidator(e){return we(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new te(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new te(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Jt(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Jt(!0,i))}markAsPending(e={}){this.status=At;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ot(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(y({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qt,this.errors=null,this._forEachChild(r=>{r.disable(X(y({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ae(this.value,i)),this._events.next(new Ot(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Kt,this._forEachChild(i=>{i.enable(X(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===At)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ae(this.value,t)),this._events.next(new Ot(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(y({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qt:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=At,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Yi(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ot(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new $,this.statusChanges=new $}_calculateStatus(){return this._allControlsDisabled()?Qt:this.errors?Fe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(At)?At:this._anyControlsHaveStatus(Fe)?Fe:Kt}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Jt(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new te(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pe(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=zo(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Wo(this._rawAsyncValidators)}},Oe=class extends Nt{constructor(e,t,i){super(kn(t),Pn(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){lr(this,!0,e),Object.keys(e).forEach(i=>{ar(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},An=class extends Oe{},ie=new P("CallSetDisabledState",{providedIn:"root",factory:()=>re}),re="always";Ft=class extends Nt{constructor(e=null,t,i){super(kn(t),Pn(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pe(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Bi(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Li(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Li(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Bi(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},os=n=>n instanceof Ft,ur=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),ss={provide:A,useExisting:T(()=>jn),multi:!0},jn=(()=>{class n extends ne{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})()}static{this.\u0275dir=K({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&g("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[w([ss]),Q]})}}return n})(),as={provide:A,useExisting:T(()=>Gn),multi:!0},ls=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gn=(()=>{class n extends ne{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=k(ie,{optional:!0})??re}ngOnInit(){this._control=this._injector.get(Tt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(S(_e),S(ve),S(ls),S(Wt))}}static{this.\u0275dir=K({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&g("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[w([as]),Q]})}}return n})(),cs={provide:A,useExisting:T(()=>Un),multi:!0},Un=(()=>{class n extends ne{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})()}static{this.\u0275dir=K({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,r){i&1&&g("change",function(u){return r.onChange(u.target.value)})("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[w([cs]),Q]})}}return n})(),dr=new P(""),us={provide:Tt,useExisting:T(()=>j)},j=(()=>{class n extends Tt{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=u,this.update=new $,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=is(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&Te(i,this,!1),On(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ts(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Te(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||n)(S(zi,10),S(Wi,10),S(A,10),S(dr,8),S(ie,8))}}static{this.\u0275dir=K({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[w([us]),Q,zt]})}}return n})(),ds={provide:ee,useExisting:T(()=>Ln)},Ln=(()=>{class n extends ee{get submitted(){return rt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=ht(()=>this._submittedReactive()),this._submittedReactive=yt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return On(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Te(t.control||null,t,!1),rs(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),ns(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Vn(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Mn(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Te(i||null,t),os(r)&&(On(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Qo(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Jo(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rn(this.form,this),this._oldForm&&ke(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(S(zi,10),S(Wi,10),S(ie,8))}}static{this.\u0275dir=K({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&g("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w([ds]),Q,zt]})}}return n})(),pr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})(),Tn=class extends Nt{constructor(e,t,i){super(kn(t),Pn(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){lr(this,!1,e),e.forEach((i,r)=>{ar(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};mr=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return $i(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Oe(r,o)}record(t,i=null){let r=this._reduceControls(t);return new An(r,i)}control(t,i,r){let o={};return this.useNonNullable?($i(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ft(t,X(y({},o),{nonNullable:!0}))):new Ft(t,i,r)}array(t,i,r){let o=t.map(u=>this._createControl(u));return new Tn(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Ft)return t;if(t instanceof Nt)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ie,useValue:t.callSetDisabledState??re}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({imports:[pr]})}}return n})(),hr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dr,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ie,useValue:t.callSetDisabledState??re}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({imports:[pr]})}}return n})()});var kt,Pt,Rt,Bn=C(()=>{"use strict";kt=class{constructor(e){this.payload=e}static type="[Form] Update Configurations"},Pt=class{constructor(e){this.payload=e}static type="[Form] Set Current Form"},Rt=class{constructor(e){this.payload=e}static type="[Form] Update UI State"}});function $n(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&Ci($n);let i=t?e?.injector?.get(In)??k(In):null,r=ps(e?.equal),o;e?.requireSync?o=yt({kind:0},{equal:r}):o=yt({kind:1,value:e?.initialValue},{equal:r});let u=n.subscribe({next:f=>o.set({kind:1,value:f}),error:f=>{if(e?.rejectErrors)throw f;o.set({kind:2,error:f})}});if(e?.requireSync&&o().kind===0)throw new Dt(601,!1);return i?.onDestroy(u.unsubscribe.bind(u)),ht(()=>{let f=o();switch(f.kind){case 1:return f.value;case 2:throw f.error;case 0:throw new Dt(601,!1)}},{equal:e?.equal})}function ps(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var gr=C(()=>{"use strict";v();});function Wn(n){if(!n.hasOwnProperty(ut)){let e={name:null,actions:{},defaults:{},path:null,makeRootSelector(t){return t.getStateGetter(e.name)},children:[]};Object.defineProperty(n,ut,{value:e})}return jt(n)}function jt(n){return n[ut]}function vr(n){return n.hasOwnProperty(Hn)||Object.defineProperty(n,Hn,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),Xn(n)}function Xn(n){return n[Hn]}function ms(n,e){return n===e}function fs(n,e,t){if(e===null||t===null||e.length!==t.length)return!1;let i=e.length;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}function je(n,e=ms){let t=null,i=null;function r(){return fs(e,t,arguments)||(i=n.apply(null,arguments)),t=arguments,i}return r.reset=function(){t=null,i=null},r}function br(n){let e=[],t=!1;return function(...r){if(t){e.unshift(r);return}for(t=!0,n(...r);e.length>0;){let o=e.pop();o&&n(...o)}t=!1}}function Yn(n){return e=>new ce(t=>e.subscribe({next(i){n(()=>t.next(i))},error(i){n(()=>t.error(i))},complete(){n(()=>t.complete())}}))}var ut,zn,Hn,hs,gs,Zn,Ge,_r,yr,Cr,Re,qn,Ue,Kn=C(()=>{"use strict";v();v();It();gr();ut="NGXS_META",zn="NGXS_OPTIONS_META",Hn="NGXS_SELECTOR_META";hs=!1,gs=(()=>{class n{static{this._value={}}static set(t){this._value=t}static pop(){let t=this._value;return this._value={},t}}return n})(),Zn=new P(hs?"INITIAL_STATE_TOKEN":"",{providedIn:"root",factory:()=>gs.pop()}),Ge=(()=>{class n extends de{constructor(){super(1)}bootstrap(){this.next(!0),this.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_r=!1,yr=new P(_r?"\u0275NGXS_STATE_FACTORY":""),Cr=new P(_r?"\u0275NGXS_STATE_CONTEXT_FACTORY":"");Re=class extends xt{constructor(){super(...arguments),this._orderedNext=br(e=>super.next(e))}next(e){this._orderedNext(e)}},qn=class extends ue{constructor(e){super(e),this._orderedNext=br(t=>super.next(t)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}};Ue=(()=>{class n extends qn{constructor(){super({}),this.state=$n(this.pipe(Yn(rt)),{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function oe(n){return n.constructor?.type||n.type}var Le,Be,_s,xr,Qn,$e,Sr=C(()=>{"use strict";v();Le=(()=>{class n{static{this.type="@@INIT"}}return n})(),Be=(()=>{class n{static{this.type="@@UPDATE_STATE"}constructor(t){this.addedStates=t}}return n})(),_s=!1,xr=new P(_s?"NGXS_PLUGINS":"");Qn=(n,e,t)=>{n=y({},n);let i=e.split("."),r=i.length-1;return i.reduce((o,u,f)=>(f===r?o[u]=t:o[u]=Array.isArray(o[u])?o[u].slice():y({},o[u]),o&&o[u]),n),n},$e=(n,e)=>e.split(".").reduce((t,i)=>t&&t[i],n)});function Er(n){return typeof n=="function"}var Ir=C(()=>{"use strict"});function Cs(n,e,t){throw new Error(`State name '${n}' from ${e} already exists in ${t}.`)}function bs(n){throw new Error(`States must be decorated with @State() decorator, but "${n}" isn't.`)}function xs(n){return`'${n}' class should be decorated with @Injectable() right after the @State() decorator`}function Ss(n){let e="You have an invalid state initialization order. This typically occurs when `NgxsModule.forFeature`\nor `provideStates` is called before `NgxsModule.forRoot` or `provideStore`.\nOne example is when `NgxsRouterPluginModule.forRoot` is called before `NgxsModule.forRoot`.";if(n){let t=Object.keys(n).map(i=>`"${i}"`);e+=`
Feature states added before the store initialization is complete: ${t.join(", ")}.`}return e}function qe(n){return Yn(e=>n.leave(e))}function Is(n){let e=ei.get(n);return e?(e(),!0):!1}function Ds(n,e){if(n!==null&&typeof n=="object"){let t=!1;ei.set(n,()=>{t||(t=!0,e())})}return n}function Fs(n){return e=>{let t=e.subscribe({error:i=>{n.runOutsideAngular(()=>{queueMicrotask(()=>{t&&Is(i)})})}});return new ce(i=>(t?.unsubscribe(),t=null,e.subscribe(i)))}}function Ms(n,e,t){return i=>{let{argumentSelectorFunctions:r,selectorOptions:o}=Os(i,n,e),{suppressErrors:u}=o;return function(V){let Z=r.map(J=>J(V));try{return t(...Z)}catch(J){if(u&&J instanceof TypeError)return;throw Vs&&console.error("The selector below has thrown an error upon invocation. Please check for any unsafe property access that may result in null or undefined values.",n.originalFn),J}}}}function As(n,e){let t=e&&e.containerClass,r=je(function(...u){let f=n.apply(t,u);return f instanceof Function?je.apply(null,[f]):f});return Object.setPrototypeOf(r,n),r}function Os(n,e,t=[]){let i=e.getSelectorOptions(),r=n.getSelectorOptions(i),u=Ts(t,r,e.containerClass).map(f=>Ur(f)(n));return{selectorOptions:r,argumentSelectorFunctions:u}}function Ts(n=[],e,t){let i=[],r=e.injectContainerState||n.length===0;return t&&r&&jt(t)&&i.push(t),i.push(...n),i}function Ur(n){let e=Xn(n)||jt(n);return e&&e.makeRootSelector||(()=>n)}function Ns(n){return e=>{for(let t=0;t<n.length;t++){if(!e)return;e=e[n[t]]}return e}}function ks(n){let e=n,t="store."+e[0],i=0,r=e.length,o=t;for(;++i<r;)o=o+" && "+(t=t+"."+e[i]);return new Function("store","return "+o+";")}function Rs(n){let e=t=>{let i=n.find(r=>r===t);if(ii&&!i)throw new Error(`Child state not found: ${t}. \r
You may have forgotten to add states to module`);return i[ut].name};return n.reduce((t,i)=>{let{name:r,children:o}=i[ut];return t[r]=(o||[]).map(e),t},{})}function js(n){return n.reduce((e,t)=>{let i=t[ut];return e[i.name]=t,e},{})}function Gs(n,e={}){let t=(i,r)=>{for(let o in i)if(i.hasOwnProperty(o)&&i[o].indexOf(r)>=0){let u=t(i,o);return u!==null?`${u}.${o}`:o}return null};for(let i in n)if(n.hasOwnProperty(i)){let r=t(n,i);e[i]=r?`${r}.${i}`:i}return e}function Us(n){let e=[],t={},i=(r,o=[])=>{Array.isArray(o)||(o=[]),o.push(r),t[r]=!0,n[r].forEach(u=>{if(ii&&o.indexOf(u)>=0)throw new Error(`Circular dependency '${u}' is required by '${r}': ${o.join(" -> ")}`);t[u]||i(u,o.slice(0))}),e.indexOf(r)<0&&e.push(r)};return Object.keys(n).forEach(r=>i(r)),e.reverse()}function Ls(...n){return Bs(n,["DISPATCHED"])}function Bs(n,e,t=Hs){let i=qs(n),r=e&&zs(e);return function(o){return o.pipe($s(i,r),t())}}function $s(n,e){return wt(t=>{let i=oe(t.action),r=n[i],o=e?e[t.status]:!0;return r&&o})}function Hs(){return Y(n=>n.action)}function qs(n){return n.reduce((e,t)=>(e[oe(t)]=!0,e),{})}function zs(n){return n.reduce((e,t)=>(e[t]=!0,e),{})}function Ws(n){return e=>{let t=y({},e);for(let i in n)t[i]=n[i];return t}}function Lr(n,e,t,i){let r=Qn(e,i,t);return n.setState(r),r}function Fr(n,e,t,i){let r=Br(e,i),o=t(r);return Lr(n,e,o,i)}function Br(n,e){return $e(n,e)}function Xs(n,e,t){let i=t[n];i&&i!==e&&Cs(n,e.name,i.name)}function Zs(n){n.forEach(e=>{jt(e)||bs(e.name)})}function Ys(n){Qs(n)||Ks(n)||console.warn(xs(n.name))}function Ks(n){return!!n.\u0275prov}function Qs(n){return(n.__annotations__||[]).some(t=>t?.ngMetadataName==="Injectable")}function ia(n){let e=n===void 0?{}:n;return n&&(Array.isArray(n)?e=n.slice():typeof n=="object"&&(e=y({},n))),e}function la(){(k(oa,{optional:!0})||[]).forEach(u=>u());let e=k(Gt),t=k(ae);k(Ut),k(sa);let i=k(Rr,{optional:!0})||[],r=k($r),o=e.addAndReturnDefaults(i);t.setStateToTheCurrentWithNew(o),e.connectActionHandlers(),r.ngxsBootstrap(new Le,o)}function ca(){k(Ut);let n=k(ae),e=k(Gt),t=k(jr,{optional:!0})||[],i=k($r),r=t.reduce((u,f)=>u.concat(f),[]),o=e.addAndReturnDefaults(r);o.states.length&&(n.setStateToTheCurrentWithNew(o),i.ngxsBootstrap(new Be(o.defaults),o))}function pa(n,e){return[Gt,ti,...n,{provide:Rr,useValue:n},{provide:Oi,useFactory:()=>{let t=k(Ge);return()=>t.bootstrap()},multi:!0},{provide:Gr,useValue:e},{provide:Or,useValue:e.executionStrategy},{provide:Cr,useExisting:ri},{provide:yr,useExisting:Gt}]}function ma(n){return[Gt,ti,...n,{provide:jr,multi:!0,useValue:n}]}function ze(n,e){return(t,i,r)=>{let o=Wn(t.constructor),u=Array.isArray(n)?n:[n];for(let f of u){let V=f.type;o.actions[V]||(o.actions[V]=[]),o.actions[V].push({fn:i,options:e||{},type:V})}}}function qr(n){return e=>{let t=e,i=Wn(t),r=Object.getPrototypeOf(t),o=fa(r,n);ha({meta:i,inheritedStateClass:r,optionsWithInheritance:o}),t[zn]=o}}function fa(n,e){let t=n[zn]||{};return y(y({},t),e)}function ha(n){let{meta:e,inheritedStateClass:t,optionsWithInheritance:i}=n,{children:r,defaults:o,name:u}=i,f=typeof u=="string"?u:u&&u.getName()||null;if(t.hasOwnProperty(ut)){let V=t[ut]||{};e.actions=y(y({},e.actions),V.actions)}e.children=r,e.defaults=o,e.name=f}function ga(n,e){let t=vr(n);t.originalFn=n;let i=()=>({});e&&(t.containerClass=e.containerClass,t.selectorName=e.selectorName||null,i=e.getSelectorOptions||i);let r=y({},t);return t.getSelectorOptions=()=>va(r,i()),t}function va(n,e){return y(y(y(y({},Vr.getOptions(n.containerClass)||{}),Vr.getOptions(n.originalFn)||{}),n.getSelectorOptions()||{}),e)}function _a(n,e,t){let i=As(e,t),r=ga(e,t);return r.makeRootSelector=Ms(r,n,i),i}function We(n){return(e,t,i)=>{i||=Object.getOwnPropertyDescriptor(e,t);let r=i?.value,o=_a(n,r,{containerClass:e,selectorName:t.toString(),getSelectorOptions(){return{}}});return{configurable:!0,get(){return o},originalFn:r}}}var ys,Mr,Ar,Or,Es,Tr,Nr,kr,ti,ei,Dr,Pr,ws,ni,Rr,jr,Gr,se,Jn,ae,Vs,ii,Ps,ri,uu,Js,ta,ea,na,He,Gt,Ut,ra,oa,sa,aa,$r,Hr,du,pu,ua,da,mu,wr,Vr,Xe=C(()=>{"use strict";v();v();It();Kn();Kn();R();En();Sr();Ir();ys=(()=>{class n{enter(t){return t()}leave(t){return t()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Mr=(()=>{class n{constructor(t,i){this._ngZone=t,this._platformId=i}enter(t){return ki(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)}leave(t){return this.runInsideAngular(t)}runInsideAngular(t){return ft.isInAngularZone()?t():this._ngZone.run(t)}runOutsideAngular(t){return ft.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()}static{this.\u0275fac=function(i){return new(i||n)(b(ft),b(Ei))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ar=!1,Or=new P(Ar?"CUSTOM_NGXS_EXECUTION_STRATEGY":""),Es=new P(Ar?"NGXS_EXECUTION_STRATEGY":"",{providedIn:"root",factory:()=>{let n=k(ft),e=k(yi),t=e.get(Or),i=n instanceof ft;return t?e.get(t):e.get(i?Mr:ys)}}),Tr=(()=>{class n{constructor(t){this._executionStrategy=t}enter(t){return this._executionStrategy.enter(t)}leave(t){return this._executionStrategy.leave(t)}static{this.\u0275fac=function(i){return new(i||n)(b(Es))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nr=n=>(...e)=>n.shift()(...e,(...i)=>Nr(n)(...i));kr=(()=>{class n extends Re{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})()}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ti=(()=>{class n{constructor(t,i){this._parentManager=t,this._pluginHandlers=i,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){let t=this.getPluginHandlers();this.rootPlugins.push(...t)}getPluginHandlers(){return(this._pluginHandlers||[]).map(i=>i.handle?i.handle.bind(i):i)}static{this.\u0275fac=function(i){return new(i||n)(b(n,12),b(xr,8))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),ei=new WeakMap,Dr=bn.onUnhandledError;bn.onUnhandledError=function(n){let e=ei.get(n);if(e)e();else if(Dr)Dr.call(this,n);else throw n};Pr=(()=>{class n extends xt{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})()}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ws=(()=>{class n{constructor(t,i,r,o,u,f){this._ngZone=t,this._actions=i,this._actionResults=r,this._pluginManager=o,this._stateStream=u,this._ngxsExecutionStrategy=f}dispatch(t){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(t)).pipe(Fs(this._ngZone),qe(this._ngxsExecutionStrategy))}dispatchByEvents(t){return Array.isArray(t)?t.length===0?st(void 0):qt(t.map(i=>this.dispatchSingle(i))).pipe(Y(()=>{})):this.dispatchSingle(t)}dispatchSingle(t){let i=this._stateStream.getValue(),r=this._pluginManager.plugins;return Nr([...r,(o,u)=>{o!==i&&this._stateStream.next(o);let f=this.getActionResultStream(u);return f.subscribe(V=>this._actions.next(V)),this._actions.next({action:u,status:"DISPATCHED"}),this.createDispatchObservable(f)}])(i,t).pipe(Et())}getActionResultStream(t){return this._actionResults.pipe(wt(i=>i.action===t&&i.status!=="DISPATCHED"),fe(1),Et())}createDispatchObservable(t){return t.pipe(hi(i=>{switch(i.status){case"SUCCESSFUL":return st(this._stateStream.getValue());case"ERRORED":return pe(()=>i.error);default:return pi}})).pipe(Et())}static{this.\u0275fac=function(i){return new(i||n)(b(ft),b(kr),b(Pr),b(ti),b(Ue),b(Tr))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ni=!1,Rr=new P(ni?"ROOT_STATE_TOKEN":""),jr=new P(ni?"FEATURE_STATE_TOKEN":""),Gr=new P(ni?"NGXS_OPTIONS":""),se=(()=>{class n{constructor(){this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=Mr,this.selectorOptions={injectContainerState:!1,suppressErrors:!1}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=x({token:n,factory:()=>(()=>{let t=new n,i=k(Gr);return X(y(y({},t),i),{selectorOptions:y(y({},t.selectorOptions),i.selectorOptions)})})(),providedIn:"root"})}}return n})(),Jn=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}},ae=(()=>{class n{constructor(t,i,r){this._stateStream=t,this._dispatcher=i,this._config=r}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:i=>this._stateStream.next(i),dispatch:i=>this._dispatcher.dispatch(i)}}setStateToTheCurrentWithNew(t){let i=this.getRootStateOperations(),r=i.getState();i.setState(y(y({},r),t.defaults))}static{this.\u0275fac=function(i){return new(i||n)(b(Ue),b(ws),b(se))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vs=!1;ii=!1;Ps=new P(ii?"PROP_GETTER":"",{providedIn:"root",factory:()=>k(se).compatibility?.strictContentSecurityPolicy?Ns:ks});ri=(()=>{class n{constructor(t){this._internalStateOperations=t}createStateContext(t){let i=this._internalStateOperations.getRootStateOperations();return{getState(){let r=i.getState();return Br(r,t.path)},patchState(r){let o=i.getState(),u=Ws(r);Fr(i,o,u,t.path)},setState(r){let o=i.getState();Er(r)?Fr(i,o,r,t.path):Lr(i,o,r,t.path)},dispatch(r){return i.dispatch(r)}}}static{this.\u0275fac=function(i){return new(i||n)(b(ae))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();uu=new RegExp("^[a-zA-Z0-9_]+$");Js=!1,ta=new P(Js?"NGXS_DEVELOPMENT_OPTIONS":"",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})}),ea=(()=>{class n{constructor(t){this._ignoredActions=new Set([Le.type,Be.type]),typeof t.warnOnUnhandledActions=="object"&&this.ignoreActions(...t.warnOnUnhandledActions.ignore)}ignoreActions(...t){for(let i of t)this._ignoredActions.add(i.type)}warn(t){Array.from(this._ignoredActions).some(r=>r===oe(t))||(t=t.constructor&&t.constructor.name!=="Object"?t.constructor.name:t.type,console.warn(`The ${t} action has been dispatched but hasn't been handled. This may happen if the state with an action handler for this action is not registered.`))}static{this.\u0275fac=function(i){return new(i||n)(b(ta))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),na=(()=>{class n{constructor(){this._ngZone=k(ft),this._errorHandler=k(Si)}handleError(t,i){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),He=!1;Gt=(()=>{class n{constructor(t,i,r,o,u,f,V){this._injector=t,this._config=i,this._parentFactory=r,this._actions=o,this._actionResults=u,this._stateContextFactory=f,this._initialState=V,this._actionsSubscription=null,this._propGetter=k(Ps),this._ngxsUnhandledErrorHandler=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=je(()=>{let Z=this,J=Z._propGetter;function G(pt){let it=Z.statePaths[pt];return it?J(it.split(".")):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(pt){let it=G(pt);return it||((...Vo)=>(it||(it=G(pt)),it?it(...Vo):void 0))},getSelectorOptions(pt){let it=Z._config.selectorOptions;return y(y({},it),pt||{})}}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}ngOnDestroy(){this._actionsSubscription?.unsubscribe()}add(t){He&&Zs(t);let{newStates:i}=this.addToStatesMap(t);if(!i.length)return[];let r=Rs(i),o=Us(r),u=Gs(r),f=js(i),V=[];for(let Z of o){let J=f[Z],G=u[Z],ot=J[ut];this.addRuntimeInfoToMeta(ot,G),He&&Ys(J);let pt={name:Z,path:G,isInitialised:!1,actions:ot.actions,instance:this._injector.get(J),defaults:ia(ot.defaults)};this.hasBeenMountedAndBootstrapped(Z,G)||V.push(pt),this.states.push(pt)}return V}addAndReturnDefaults(t){let i=t||[],r=this.add(i);return{defaults:r.reduce((u,f)=>Qn(u,f.path,f.defaults),{}),states:r}}connectActionHandlers(){if(this._parentFactory||this._actionsSubscription!==null)return;let t=new xt;this._actionsSubscription=this._actions.pipe(wt(i=>i.status==="DISPATCHED"),me(i=>{t.next(i);let r=i.action;return this.invokeActions(t,r).pipe(Y(()=>({action:r,status:"SUCCESSFUL"})),Sn({action:r,status:"CANCELED"}),St(o=>{let u=this._ngxsUnhandledErrorHandler||=this._injector.get(na),f=Ds(o,()=>u.handleError(o,{action:r}));return st({action:r,status:"ERRORED",error:f})}))})).subscribe(i=>this._actionResults.next(i))}invokeActions(t,i){let r=oe(i),o=[],u=!1;for(let f of this.states){let V=f.actions[r];if(V)for(let Z of V){let J=this._stateContextFactory.createStateContext(f);try{let G=f.instance[Z.fn](J,i);Yt(G)&&(G=Ht(G)),xn(G)?(G=G.pipe(me(ot=>Yt(ot)?Ht(ot):xn(ot)?ot:st(ot)),Sn({})),Z.options.cancelUncompleted&&(G=G.pipe(ge(t.pipe(Ls(i)))))):G=st({}).pipe(Et()),o.push(G)}catch(G){o.push(pe(G))}u=!0}}if(He&&!u){let f=this._injector.get(ea,null);f&&f.warn(i)}return o.length||o.push(st({})),qt(o)}addToStatesMap(t){let i=[],r=this.statesByName;for(let o of t){let u=jt(o).name;He&&Xs(u,o,r),!r[u]&&(i.push(o),r[u]=o)}return{newStates:i}}addRuntimeInfoToMeta(t,i){this.statePaths[t.name]=i,t.path=i}hasBeenMountedAndBootstrapped(t,i){let r=$e(this._initialState,i)!==void 0;return this.statesByName[t]&&r}static{this.\u0275fac=function(i){return new(i||n)(b(Wt),b(se),b(n,12),b(kr),b(Pr),b(ri),b(Zn,8))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),Ut=(()=>{class n{constructor(t,i,r,o,u,f){this._stateStream=t,this._internalStateOperations=i,this._config=r,this._internalExecutionStrategy=o,this._stateFactory=u,this._selectableStateStream=this._stateStream.pipe(qe(this._internalExecutionStrategy),Et({bufferSize:1,refCount:!0})),this.initStateStream(f)}dispatch(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)}select(t){let i=this.getStoreBoundSelectorFn(t);return this._selectableStateStream.pipe(Y(i),St(r=>this._config.selectorOptions.suppressErrors&&r instanceof TypeError?st(void 0):pe(r)),he(),qe(this._internalExecutionStrategy))}selectOnce(t){return this.select(t).pipe(fe(1))}selectSnapshot(t){return this.getStoreBoundSelectorFn(t)(this._stateStream.getValue())}selectSignal(t){let i=this.getStoreBoundSelectorFn(t);return ht(()=>i(this._stateStream.state()))}subscribe(t){return this._selectableStateStream.pipe(qe(this._internalExecutionStrategy)).subscribe(t)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(t){this._internalStateOperations.getRootStateOperations().setState(t)}getStoreBoundSelectorFn(t){let i=Ur(t),r=this._stateFactory.getRuntimeSelectorContext();return i(r)}initStateStream(t){let i=this._stateStream.value;(!i||Object.keys(i).length===0)&&this._stateStream.next(t)}static{this.\u0275fac=function(i){return new(i||n)(b(Ue),b(ae),b(se),b(Tr),b(Gt),b(Zn,8))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ra=!1,oa=new P(ra?"NGXS_PREBOOT_FNS":""),sa=(()=>{class n{static{this.store=null}static{this.config=null}constructor(t,i){n.store=t,n.config=i}ngOnDestroy(){n.store=null,n.config=null}static{this.\u0275fac=function(i){return new(i||n)(b(Ut),b(se))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aa=!1,$r=(()=>{class n{constructor(t,i,r,o){this._store=t,this._internalStateOperations=i,this._stateContextFactory=r,this._appBootstrappedState=o,this._destroy$=new de(1)}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(t,i){aa&&(t instanceof Le?this._initStateHasBeenDispatched=!0:t instanceof Be&&!this._initStateHasBeenDispatched&&console.error(Ss(t.addedStates))),this._internalStateOperations.getRootStateOperations().dispatch(t).pipe(wt(()=>!!i),_i(()=>this._invokeInitOnStates(i.states)),me(()=>this._appBootstrappedState),wt(r=>!!r),ge(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(i.states))}_invokeInitOnStates(t){for(let i of t){let r=i.instance;r.ngxsOnChanges&&this._store.select(o=>$e(o,i.path)).pipe(vi(void 0),gi(),ge(this._destroy$)).subscribe(([o,u])=>{let f=new Jn(o,u,!i.isInitialised);r.ngxsOnChanges(f)}),r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(i)),i.isInitialised=!0}}_invokeBootstrapOnStates(t){for(let i of t){let r=i.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(i))}}_getStateContext(t){return this._stateContextFactory.createStateContext(t)}static{this.\u0275fac=function(i){return new(i||n)(b(Ut),b(ae),b(ri),b(Ge))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hr=!1;du=new P(Hr?"NGXS_ROOT_STORE_INITIALIZER":""),pu=new P(Hr?"NGXS_FEATURE_STORE_INITIALIZER":""),ua=(()=>{class n{constructor(){la()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})(),da=(()=>{class n{constructor(){ca()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})();mu=(()=>{class n{static forRoot(t=[],i={}){return{ngModule:ua,providers:pa(t,i)}}static forFeature(t=[]){return{ngModule:da,providers:ma(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})();wr="NGXS_SELECTOR_OPTIONS_META",Vr={getOptions:n=>n&&n[wr]||{},defineOptions:(n,e)=>{n&&(n[wr]=e)}}});var H,zr=C(()=>{"use strict";Xe();Bn();v();H=class{updateConfigurations(e,t){e.patchState({configurations:t.payload})}setCurrentForm(e,t){e.patchState({currentForm:t.payload})}updateUIState(e,t){e.patchState({uiState:t.payload})}};yn(H,"\u0275fac",function(t){return new(t||H)}),yn(H,"\u0275prov",x({token:H,factory:H.\u0275fac})),mt([ze(kt)],H.prototype,"updateConfigurations",1),mt([ze(Pt)],H.prototype,"setCurrentForm",1),mt([ze(Rt)],H.prototype,"updateUIState",1),H=mt([qr({name:"form",defaults:{configurations:[],currentForm:null,uiState:{activeFormId:"",expandedSections:[]}}})],H)});var gt,Wr=C(()=>{"use strict";Xe();zr();gt=class{static getConfigurations(e){return e.configurations}static getCurrentForm(e){return e.currentForm}static getUIState(e){return e.uiState}};mt([We([H])],gt,"getConfigurations",1),mt([We([H])],gt,"getCurrentForm",1),mt([We([H])],gt,"getUIState",1)});var Ze,Xr=C(()=>{"use strict";Ze=class{constructor(e,t){this.fb=e;this.http=t}}});function Zr(n,e=0){return(q[n[e+0]]+q[n[e+1]]+q[n[e+2]]+q[n[e+3]]+"-"+q[n[e+4]]+q[n[e+5]]+"-"+q[n[e+6]]+q[n[e+7]]+"-"+q[n[e+8]]+q[n[e+9]]+"-"+q[n[e+10]]+q[n[e+11]]+q[n[e+12]]+q[n[e+13]]+q[n[e+14]]+q[n[e+15]]).toLowerCase()}var q,Ye,Yr=C(()=>{"use strict";q=[];for(Ye=0;Ye<256;++Ye)q.push((Ye+256).toString(16).slice(1))});function oi(){if(!Ke&&(Ke=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ke))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ke(Ca)}var Ke,Ca,Kr=C(()=>{"use strict";Ca=new Uint8Array(16)});var ba,si,Qr=C(()=>{"use strict";ba=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),si={randomUUID:ba}});function xa(n,e,t){if(si.randomUUID&&!e&&!n)return si.randomUUID();n=n||{};var i=n.random||(n.rng||oi)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return Zr(i)}var ai,Jr=C(()=>{"use strict";Qr();Kr();Yr();ai=xa});var to=C(()=>{"use strict";Jr()});function eo(){return ai()}var no=C(()=>{"use strict";to()});var Qe,io=C(()=>{"use strict";v();Qe=class n{formDefinition=null;setFormDefinition(e){this.formDefinition=e}getFormDefinition(){return this.formDefinition}getSections(){return this.formDefinition?this.formDefinition.groups:[]}getEntities(){return this.formDefinition?this.formDefinition.groups.flatMap(e=>e.entities):[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Lt,li=C(()=>{"use strict";It();v();Lt=class n{currentEntitySubject=new ue(null);currentEntity$=this.currentEntitySubject.asObservable();selectEntity(e){this.currentEntitySubject.getValue()!==e&&this.currentEntitySubject.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var le,oo=C(()=>{"use strict";le={name:"prod",production:!0,apiUrl:"",buildTimestamp:"Monday, 7 Oct 2024, 9:32 am",isStandalone:!1,assetPath:"assets/"}});var Bt,ci=C(()=>{"use strict";oo();v();Bt=class n{assetPath="assets/";constructor(){le.name!=="dev"&&(this.assetPath=le.isStandalone?`${le.assetPath}`:`${le.assetPath}sil-form-renderer/browser/assets/`)}getAssetPath(){return console.log("getAssetPath: ",this.assetPath),this.assetPath}getFullAssetPath(e){return console.log(this.assetPath),`${this.assetPath}${e}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Je,ao=C(()=>{"use strict";v();Je=class n{mapFieldToComponent(e){switch(e){case"text":return"app-text-input";case"number":return"app-number-input";case"select":return"app-select-input";case"checkbox":return"app-checkbox-input";case"radio":return"app-radio-input";case"date":return"app-date-input";case"textarea":return"app-textarea-input";case"file":return"app-file-input";case"slider":return"app-slider-input";case"email":return"app-email-input";case"password":return"app-password-input";default:return"app-text-input"}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Ia(n,e){if(n&1&&(c(0,"div"),p(1),a()),n&2){let t=e.$implicit;s(),_(" ",t," ")}}function Da(n,e){if(n&1&&(c(0,"div",1),m(1,Ia,2,1,"div",2),a()),n&2){let t=d();s(),l("ngForOf",t.messages)}}var B,dt=C(()=>{"use strict";v();R();B=class n{control;errorMessages;get messages(){let e=[];return this.control.touched&&this.control.invalid&&(this.control.errors?.required&&e.push(this.errorMessages?.required||"This field is required."),this.control.errors?.minlength&&e.push(this.errorMessages?.minlength||"A minimum number of characters is required."),this.control.errors?.maxlength&&e.push(this.errorMessages?.maxlength||"Maximum character length has been reached."),this.control.errors?.pattern&&e.push(this.errorMessages?.pattern||"Invalid format."),this.control.errors?.whitespace&&e.push(this.errorMessages?.whitespace||"Whitespace is not allowed."),this.control.errors?.min&&e.push(this.errorMessages?.min||"Value must be greater than or equal to the minimum."),this.control.errors?.max&&e.push(this.errorMessages?.max||"Value must be less than or equal to the maximum."),this.control.errors?.email&&e.push(this.errorMessages?.email||"This is not a valid email address")),e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-validation-message"]],inputs:{control:"control",errorMessages:"errorMessages"},decls:1,vars:1,consts:[["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500","text-sm","mt-1"],[4,"ngFor","ngForOf"]],template:function(t,i){t&1&&m(0,Da,2,1,"div",0),t&2&&l("ngIf",i.messages.length>0)},dependencies:[et,I]})}});function Fa(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}var tn,lo=C(()=>{"use strict";v();O();v();R();O();dt();tn=class n{control;field;label;placeholder;errorMessages;autocomplete;ngOnInit(){let{label:e,placeholder:t}=this.field.display;this.label=e,this.placeholder=t,this.errorMessages=this.field.validation.errorMessages;let{autocomplete:i}=this.field.behavior??{};this.autocomplete=i,this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-text-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:6,vars:7,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["id","text-input",1,"mt-3","text-sm","block","p-2","w-full","border-gray-300","rounded-sm","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]",3,"blur","formControl","placeholder"],[3,"control","errorMessages"],[1,"text-red-500"]],template:function(t,i){if(t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,Fa,2,0,"span",2),a(),c(4,"input",3),g("blur",function(){return i.onTouched()}),a(),h(5,"app-validation-message",4),a()),t&2){let r;s(2),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("formControl",i.control)("placeholder",i.placeholder),Zt("autocomplete",(r=i.autocomplete)!==null&&r!==void 0?r:"on"),s(),l("control",i.control)("errorMessages",i.errorMessages)}},dependencies:[I,U,L,j,B],encapsulation:2})}});function Va(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}var en,co=C(()=>{"use strict";O();v();R();O();dt();en=class n{control;field;label;placeholder;errorMessages;ngOnInit(){let{label:e,placeholder:t}=this.field.display;this.label=e,this.placeholder=t,this.errorMessages=this.field.validation?.errorMessages||{},this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}onInput(){let e=this.control.value;this.onChange(e??0),this.onTouched()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-number-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:n,multi:!0}])],decls:6,vars:8,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["class","text-red-500",4,"ngIf"],["type","number",1,"mt-3","text-sm","block","p-2","w-full","border-gray-300","rounded-sm","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]",3,"input","id","placeholder","formControl"],[3,"control","errorMessages"],[1,"text-red-500"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,Va,2,0,"span",2),a(),c(4,"input",3),g("input",function(){return i.onInput()}),a(),h(5,"app-validation-message",4),a()),t&2&&(s(),l("for",i.label),s(),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("id",i.label)("placeholder",i.placeholder)("formControl",i.control),s(),l("control",i.control)("errorMessages",i.errorMessages))},dependencies:[I,U,jn,L,j,B],encapsulation:2})}});function Aa(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}var nn,uo=C(()=>{"use strict";O();v();R();O();dt();nn=class n{control;field;label;placeholder;errorMessages;value=null;ngOnInit(){let{label:e,placeholder:t}=this.field.display;this.label=e,this.placeholder=t,this.errorMessages=this.field.validation.errorMessages,this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.value=e,this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.onChange=e,this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}onDateChange(e){this.value=e,this.onChange(e),this.onTouched()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-date-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:n,multi:!0}])],decls:6,vars:7,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["class","text-red-500",4,"ngIf"],["type","date","id","date-input",1,"mt-3","p-2","block","w-full","border-gray-300","rounded-sm","text-sm","text-gray-400","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]",3,"placeholder","formControl"],[3,"control","errorMessages"],[1,"text-red-500"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,Aa,2,0,"span",2),a(),h(4,"input",3)(5,"app-validation-message",4),a()),t&2&&(s(),l("for",i.label),s(),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("placeholder",i.placeholder)("formControl",i.control),s(),l("control",i.control)("errorMessages",i.errorMessages))},dependencies:[I,U,L,j,B],encapsulation:2})}});var $t,ui=C(()=>{"use strict";It();v();Pi();$t=class n{constructor(e){this.http=e}fetchCollection(e){return this.http.get("/assets/mocks/existing-data.json").pipe(Y(t=>{let i=t.existingData[e];return i||(console.warn(`No data found for API: ${e}`),[])}),St(t=>(console.error(t,`Error fetching collection data for ${e}`),st([]))))}fetchSelectOptions(e){return this.http.get("/assets/mocks/lookups.json").pipe(Y(t=>t.lookups[e]||[]),St(t=>(console.error(t,"Error fetching select options"),[])))}static \u0275fac=function(t){return new(t||n)(b(De))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Na(n,e){n&1&&(c(0,"span",11),p(1,"*"),a())}function ka(n,e){n&1&&(c(0,"li",18),p(1," No data available "),a())}function Pa(n,e){if(n&1){let t=N();c(0,"li",19),g("click",function(){let r=D(t).$implicit,o=d(2);return F(o.onOptionSelect(r))}),p(1),a()}if(n&2){let t=e.$implicit;s(),_(" ",t.label," ")}}function Ra(n,e){if(n&1){let t=N();c(0,"div",12)(1,"div",13)(2,"input",14),g("input",function(r){D(t);let o=d();return F(o.onSearchChange(r))}),a()(),c(3,"ul",15),m(4,ka,2,0,"li",16)(5,Pa,2,1,"li",17),a()()}if(n&2){let t=d();s(2),l("value",t.searchTerm),s(2),l("ngIf",!t.filteredOptions.length),s(),l("ngForOf",t.filteredOptions)}}var rn,mo=C(()=>{"use strict";v();O();v();ui();R();dt();rn=class n{constructor(e){this.dataFetchingService=e}control;field;label;placeholder;errorMessages;options=[];filteredOptions=[];selectedOption=null;isDropdownOpen=!1;searchTerm="";isDisabled;ngOnInit(){let{label:e,placeholder:t}=this.field.display;this.label=e,this.placeholder=t,this.errorMessages=this.field.validation.errorMessages;let{disabled:i}=this.field.behavior??{};this.isDisabled=i,this.field.data.api&&this.fetchSelectOptions(this.field.data.api),this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.control.setValue(e,{emitEvent:!1}),this.selectedOption=this.options.find(t=>t.value===e)||null}registerOnChange(e){this.onChange=e,this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e,e?this.control.disable():this.control.enable()}validate(){return this.control.errors}fetchSelectOptions(e){this.dataFetchingService.fetchSelectOptions(e).subscribe({next:t=>{this.options=t,this.filteredOptions=this.options},error:t=>{this.options=[]}})}onSearchChange(e){this.searchTerm=e.target.value.toLowerCase(),this.filteredOptions=this.options.filter(t=>t.label.toLowerCase().includes(this.searchTerm))}onOptionSelect(e){this.selectedOption=e,this.control.setValue(e.value),this.onChange(e.value),this.toggleDropdown()}toggleDropdown(){this.isDisabled||(this.isDropdownOpen=!this.isDropdownOpen)}static \u0275fac=function(t){return new(t||n)(S($t))};static \u0275cmp=E({type:n,selectors:[["app-select-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:13,vars:6,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],[1,"relative","mt-3"],[1,"relative"],[1,"block","appearance-none","w-full","bg-white","border-gray-300","text-gray-400","text-sm","py-2","px-4","pr-8","rounded-sm","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]","cursor-pointer",3,"click"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-2","pointer-events-none"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 16l-4-4h8l-4 4z"],["class","absolute z-10 mt-2 w-full bg-white border border-gray-300 rounded-sm shadow-lg max-h-60 overflow-auto",4,"ngIf"],[3,"control","errorMessages"],[1,"text-red-500"],[1,"absolute","z-10","mt-2","w-full","bg-white","border","border-gray-300","rounded-sm","shadow-lg","max-h-60","overflow-auto"],[1,"w-full","p-2"],["type","text","placeholder","Search...",1,"block","appearance-none","w-full","bg-white","border-gray-300","text-gray-600","text-sm","py-2","px-4","rounded-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600",3,"input","value"],[1,"py-1","text-sm","text-gray-700"],["class","px-4 py-2 text-gray-500",4,"ngIf"],["class","px-4 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-4","py-2","text-gray-500"],[1,"px-4","py-2","hover:bg-gray-100","cursor-pointer",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,Na,2,0,"span",2),a(),c(4,"div",3)(5,"div",4)(6,"div",5),g("click",function(){return i.toggleDropdown()}),p(7),c(8,"div",6),bi(),c(9,"svg",7),h(10,"path",8),a()()(),m(11,Ra,6,3,"div",9),a()(),xi(),h(12,"app-validation-message",10),a()),t&2&&(s(2),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(4),_(" ",(i.selectedOption==null?null:i.selectedOption.label)||"Select an option"," "),s(4),l("ngIf",i.isDropdownOpen),s(),l("control",i.control)("errorMessages",i.errorMessages))},dependencies:[et,I,B],encapsulation:2})}});function Ga(n,e){n&1&&(c(0,"span",6),p(1,"*"),a())}function Ua(n,e){if(n&1&&(c(0,"div",7),h(1,"app-validation-message",8),a()),n&2){let t=d();s(),l("control",t.control)("errorMessages",t.errorMessages)}}var on,fo=C(()=>{"use strict";v();O();v();R();O();dt();on=class n{control;field;label;errorMessages;ngOnInit(){let{label:e}=this.field.display;this.label=e,this.errorMessages=this.field.validation.errorMessages,this.control.updateValueAndValidity()}writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.control.valueChanges.subscribe(()=>e())}validate(){return this.control.errors}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-checkbox-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:7,vars:4,consts:[[1,"mb-4"],[1,"inline-flex","items-center"],["type","checkbox","id","checkbox-input",1,"h-4","w-4","text-blue-600","border-gray-300","rounded","focus:ring","focus:ring-blue-500","focus:outline-none","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]",3,"formControl"],[1,"ml-2","text-sm","text-gray-700"],["class","text-red-500",4,"ngIf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500"],[1,"text-red-500","text-sm","mt-1"],[3,"control","errorMessages"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),h(2,"input",2),c(3,"p",3),p(4),m(5,Ga,2,0,"span",4),a()(),m(6,Ua,2,2,"div",5),a()),t&2&&(s(2),l("formControl",i.control),s(2),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("ngIf",i.control.touched&&i.control.invalid))},dependencies:[I,Nn,L,j,B],encapsulation:2})}});function Ba(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}function $a(n,e){if(n&1&&(c(0,"div"),p(1),a()),n&2){let t=d(2);s(),_(" ",(t.errorMessages==null?null:t.errorMessages.required)||"This field is required"," ")}}function Ha(n,e){if(n&1&&(c(0,"div"),p(1),a()),n&2){let t=d(2);s(),_(" ",t.errorMessages==null?null:t.errorMessages.minlength," ")}}function qa(n,e){if(n&1&&(c(0,"div"),p(1),a()),n&2){let t=d(2);s(),_(" ",t.errorMessages==null?null:t.errorMessages.maxlength," ")}}function za(n,e){if(n&1&&(c(0,"div",6),m(1,$a,2,1,"div",7)(2,Ha,2,1,"div",7)(3,qa,2,1,"div",7),a()),n&2){let t=d();s(),l("ngIf",t.control.errors==null?null:t.control.errors.required),s(),l("ngIf",t.control.errors==null?null:t.control.errors.minlength),s(),l("ngIf",t.control.errors==null?null:t.control.errors.maxlength)}}var sn,ho=C(()=>{"use strict";v();O();v();R();O();sn=class n{control;field;label;placeholder;minRows=3;maxRows;errorMessages;rowHeight=24;onChange=()=>{};onTouched=()=>{};ngOnInit(){let{label:e,placeholder:t,minRows:i,maxRows:r}=this.field.display;this.label=e,this.placeholder=t,this.minRows=i??3,this.maxRows=r,this.errorMessages=this.field.validation?.errorMessages||{};let{disabled:o}=this.field.behavior??{};this.control.updateValueAndValidity()}writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}adjustHeight(e){let t=e.target;t.style.height="auto";let i=t.scrollHeight;if(this.maxRows){let o=this.maxRows*this.rowHeight;i=Math.min(i,o)}let r=this.minRows*this.rowHeight;t.style.height=`${Math.max(i,r)}px`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-textarea-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:6,vars:8,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["id","textarea-input",1,"mt-3","text-sm","block","p-2","w-full","border-gray-300","rounded-sm","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]",3,"blur","input","formControl","placeholder","rows"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,Ba,2,0,"span",2),a(),c(4,"textarea",3),g("blur",function(){return i.onTouched()})("input",function(o){return i.adjustHeight(o)}),a(),m(5,za,4,3,"div",4),a()),t&2&&(s(2),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),Ii("max-height",i.maxRows?i.maxRows*i.rowHeight+"px":"none"),l("formControl",i.control)("placeholder",i.placeholder)("rows",i.minRows),s(),l("ngIf",i.control.touched&&i.control.invalid))},dependencies:[I,U,L,j]})}});function Xa(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}function Za(n,e){if(n&1){let t=N();c(0,"div",6)(1,"input",7),g("change",function(){let r=D(t).$implicit,o=d();return F(o.onRadioChange(r.value))}),a(),c(2,"label",8),p(3),a()()}if(n&2){let t=e.$implicit,i=d();s(),l("id",t.value)("value",t.value)("checked",i.control.value==t.value)("formControl",i.control),s(2),tt(t.label)}}function Ya(n,e){if(n&1&&(c(0,"div",9),h(1,"app-validation-message",10),a()),n&2){let t=d();s(),l("control",t.control)("errorMessages",t.errorMessages)}}var an,go=C(()=>{"use strict";v();O();v();R();O();dt();an=class n{control;field;label;options=[];errorMessages;ngOnInit(){let{label:e}=this.field.display;this.label=e,this.options=this.field.data.options,this.errorMessages=this.field.validation.errorMessages,this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.onChange=e,this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}onRadioChange(e){this.control.setValue(e),this.onChange(e),this.onTouched()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-radio-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:6,vars:4,consts:[[1,"mb-4","flex","flex-col","gap-2"],[1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["class","flex items-center gap-2",4,"ngFor","ngForOf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500"],[1,"flex","items-center","gap-2"],["type","radio","id","radio-input",3,"change","id","value","checked","formControl"],[1,"text-sm","text-gray-700"],[1,"text-red-500","text-sm","mt-1"],[3,"control","errorMessages"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,Xa,2,0,"span",2),a(),m(4,Za,4,5,"div",3)(5,Ya,2,2,"div",4),a()),t&2&&(s(2),_("",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("ngForOf",i.options),s(),l("ngIf",i.control.touched&&i.control.invalid))},dependencies:[et,I,U,Gn,L,j,B],encapsulation:2})}});function Qa(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}function Ja(n,e){n&1&&(c(0,"div"),p(1,"This field is required"),a())}function tl(n,e){if(n&1&&(c(0,"div",6),m(1,Ja,2,0,"div",7),a()),n&2){let t=d();s(),l("ngIf",t.control.errors==null?null:t.control.errors.required)}}var ln,vo=C(()=>{"use strict";v();O();v();R();O();ln=class n{label;control;field;accept="*/*";onChange=()=>{};onTouched=()=>{};ngOnInit(){let{label:e}=this.field.display;this.label=e,this.control.updateValueAndValidity()}writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.control.valueChanges.subscribe(()=>{e()})}onFileChange(e){let t=e.target.files?.[0];this.control.setValue(t),this.onChange(t),this.onTouched()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-file-input"]],inputs:{control:"control",field:"field",accept:"accept"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:6,vars:5,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["type","file","id","file-input",1,"mt-3","text-sm","block","w-full","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-blue-50","file:text-blue-700","hover:file:bg-blue-100",3,"change","blur","formControl","accept"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,Qa,2,0,"span",2),a(),c(4,"input",3),g("change",function(o){return i.onFileChange(o)})("blur",function(){return i.onTouched()}),a(),m(5,tl,2,1,"div",4),a()),t&2&&(s(2),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("formControl",i.control)("accept",i.accept),s(),l("ngIf",i.control.touched&&i.control.invalid))},dependencies:[I,U,L,j],encapsulation:2})}});function nl(n,e){n&1&&(c(0,"span",6),p(1,"*"),a())}var cn,_o=C(()=>{"use strict";v();O();v();R();O();dt();cn=class n{control;field;label;placeholder;min;max;step;errorMessages;ngOnInit(){let{label:e,placeholder:t,min:i,max:r,step:o}=this.field.display;this.label=e,this.placeholder=t,this.min=i??0,this.max=r??100,this.step=o??1,this.errorMessages=this.field.validation.errorMessages,this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.onChange=e,this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}onSliderChange(e){let t=e.target,i=Number(t.value);this.control.setValue(i,{emitEvent:!0}),this.control.updateValueAndValidity(),this.onChange(i),this.onTouched()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-slider-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:8,vars:9,consts:[[1,"flex","flex-col","space-y-2"],["for","slider",1,"text-gray-700","font-semibold","text-sm"],["class","text-red-500",4,"ngIf"],["id","slider-input","type","range",1,"w-full","h-2","bg-gray-200","rounded-lg","appearance-none","cursor-pointer",3,"blur","input","min","max","step","formControl"],[1,"text-gray-600"],[3,"control","errorMessages"],[1,"text-red-500"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,nl,2,0,"span",2),a(),c(4,"input",3),g("blur",function(){return i.onTouched()})("input",function(o){return i.onSliderChange(o)}),a(),c(5,"div",4),p(6),a(),h(7,"app-validation-message",5),a()),t&2&&(s(2),_("",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("min",i.min)("max",i.max)("step",i.step)("formControl",i.control),s(2),tt(i.control.value),s(),l("control",i.control)("errorMessages",i.errorMessages))},dependencies:[I,U,Un,L,j,B]})}});function rl(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}var un,yo=C(()=>{"use strict";v();O();v();R();O();dt();un=class n{control;field;label;placeholder;errorMessages;ngOnInit(){let{label:e,placeholder:t}=this.field.display;this.label=e,this.placeholder=t,this.errorMessages=this.field.validation.errorMessages,this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-email-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:6,vars:6,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["type","email","id","email-input",1,"mt-3","text-sm","block","p-2","w-full","border-gray-300","rounded-sm","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]",3,"blur","formControl","placeholder"],[3,"control","errorMessages"],[1,"text-red-500"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,rl,2,0,"span",2),a(),c(4,"input",3),g("blur",function(){return i.onTouched()}),a(),h(5,"app-validation-message",4),a()),t&2&&(s(2),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("formControl",i.control)("placeholder",i.placeholder),s(),l("control",i.control)("errorMessages",i.errorMessages))},dependencies:[I,U,L,j,B],encapsulation:2})}});function sl(n,e){n&1&&(c(0,"span",5),p(1,"*"),a())}var dn,Co=C(()=>{"use strict";v();O();v();R();O();dt();dn=class n{control;field;label;placeholder;errorMessages;autocomplete;ngOnInit(){let{label:e,placeholder:t}=this.field.display;this.label=e,this.placeholder=t,this.errorMessages=this.field.validation?.errorMessages||{};let{autocomplete:i}=this.field.behavior??{};this.autocomplete=i,this.control.updateValueAndValidity()}onChange=()=>{};onTouched=()=>{};writeValue(e){this.control.setValue(e,{emitEvent:!1})}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}validate(){return this.control.errors}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-password-input"]],inputs:{control:"control",field:"field"},features:[w([{provide:A,useExisting:T(()=>n),multi:!0}])],decls:6,vars:7,consts:[[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["type","password","id","password-input",1,"mt-3","text-sm","block","p-2","w-full","border-gray-300","rounded-sm","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-300","focus:ring-opacity-20","focus:border-blue-600","focus:border-opacity-50","border-[0.5px]",3,"blur","formControl","placeholder"],[3,"control","errorMessages"],[1,"text-red-500"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"label",1),p(2),m(3,sl,2,0,"span",2),a(),c(4,"input",3),g("blur",function(){return i.onTouched()}),a(),h(5,"app-validation-message",4),a()),t&2&&(s(2),_(" ",i.label," "),s(),l("ngIf",i.control.errors==null?null:i.control.errors.required),s(),l("formControl",i.control)("placeholder",i.placeholder),Zt("autocomplete",i.autocomplete==="on"?"on":null),s(),l("control",i.control)("errorMessages",i.errorMessages))},dependencies:[I,U,L,j,B]})}});function cl(n,e){if(n&1&&h(0,"app-text-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function ul(n,e){if(n&1&&h(0,"app-number-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function dl(n,e){if(n&1&&h(0,"app-select-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function pl(n,e){if(n&1&&h(0,"app-checkbox-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function ml(n,e){if(n&1&&h(0,"app-radio-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function fl(n,e){if(n&1&&h(0,"app-date-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function hl(n,e){if(n&1&&h(0,"app-textarea-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function gl(n,e){if(n&1&&h(0,"app-file-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function vl(n,e){if(n&1&&h(0,"app-slider-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function _l(n,e){if(n&1&&h(0,"app-email-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function yl(n,e){if(n&1&&h(0,"app-password-input",20),n&2){let t=d(2).$implicit,i=d(2);l("control",i.getControl(t.fieldName))("field",t)}}function Cl(n,e){if(n&1&&(c(0,"div",17),Vt(1,18),m(2,cl,1,2,"app-text-input",19)(3,ul,1,2,"app-number-input",19)(4,dl,1,2,"app-select-input",19)(5,pl,1,2,"app-checkbox-input",19)(6,ml,1,2,"app-radio-input",19)(7,fl,1,2,"app-date-input",19)(8,hl,1,2,"app-textarea-input",19)(9,gl,1,2,"app-file-input",19)(10,vl,1,2,"app-slider-input",19)(11,_l,1,2,"app-email-input",19)(12,yl,1,2,"app-password-input",19),Mt(),a()),n&2){let t=d().$implicit,i=d(2);s(),l("ngSwitch",i.getFieldComponent(t)),s(),l("ngSwitchCase","app-text-input"),s(),l("ngSwitchCase","app-number-input"),s(),l("ngSwitchCase","app-select-input"),s(),l("ngSwitchCase","app-checkbox-input"),s(),l("ngSwitchCase","app-radio-input"),s(),l("ngSwitchCase","app-date-input"),s(),l("ngSwitchCase","app-textarea-input"),s(),l("ngSwitchCase","app-file-input"),s(),l("ngSwitchCase","app-slider-input"),s(),l("ngSwitchCase","app-email-input"),s(),l("ngSwitchCase","app-password-input")}}function bl(n,e){if(n&1&&(Vt(0),m(1,Cl,13,12,"div",16),Mt()),n&2){let t,i=e.$implicit;s(),l("ngIf",(t=i.display==null?null:i.display.visible)!==null&&t!==void 0?t:!0)}}function xl(n,e){if(n&1&&(Vt(0,14),m(1,bl,2,1,"ng-container",15),Mt()),n&2){let t=d();l("formGroup",t.form),s(),l("ngForOf",t.currentEntity.fields)}}function Sl(n,e){if(n&1&&(c(0,"button",21),p(1," Submit "),a()),n&2){let t=d();l("ngClass",be(1,ll,t.form.valid,!t.form.valid))}}function El(n,e){if(n&1){let t=N();c(0,"button",22),g("click",function(){D(t);let r=d();return F(r.onCancelEntity())}),p(1," Cancel "),a()}}function Il(n,e){if(n&1){let t=N();c(0,"button",23),g("click",function(){D(t);let r=d();return F(r.onNextEntity())}),p(1," Save "),a()}}var ll,pn,bo=C(()=>{"use strict";v();O();v();ao();R();O();lo();co();uo();mo();fo();ho();go();vo();_o();yo();Co();ll=(n,e)=>({"bg-blue-600 hover:bg-blue-700":n,"bg-gray-400 cursor-not-allowed":e});pn=class n{constructor(e){this.fieldComponentMapper=e}currentEntity;form;isLastEntityForm;isCollectionForm;isEditForm;sendFormData=new $;nextEntity=new $;ngOnInit(){console.log("Temp Id: ",this.isEditForm.itemTempId),this.logInitialization()}logInitialization(){console.log("Form Content Initialized")}getFieldComponent(e){return this.fieldComponentMapper.mapFieldToComponent(e.type)}getControl(e){let t=this.form.get(e);return t instanceof Ft?t:new Ft}emitFormData(){if(this.currentEntity){let e=this.form.value;this.sendFormData.emit({formName:this.currentEntity.fieldName,formData:e,itemTempId:this.isEditForm.status?this.isEditForm.itemTempId:void 0})}}onSubmit(){this.emitFormData(),this.nextEntity.emit()}onNextEntity(){this.emitFormData(),this.nextEntity.emit()}onCancelEntity(){this.nextEntity.emit()}static \u0275fac=function(t){return new(t||n)(S(Je))};static \u0275cmp=E({type:n,selectors:[["app-form-content"]],inputs:{currentEntity:"currentEntity",form:"form",isLastEntityForm:"isLastEntityForm",isCollectionForm:"isCollectionForm",isEditForm:"isEditForm"},outputs:{sendFormData:"sendFormData",nextEntity:"nextEntity"},decls:18,vars:9,consts:[["id","form-content",1,"p-8","rounded-lg","bg-white"],[1,"flex","gap-2","items-center","mb-8"],["src","../../../../../assets/information2.png","alt","",1,"w-7","h-7"],[1,"font-semibold"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[3,"formGroup",4,"ngIf"],[1,"flex","justify-end","gap-3"],["type","submit","class","mt-8 px-4 py-[6px] text-white rounded-lg font-semibold transition duration-300",3,"ngClass",4,"ngIf"],["type","button","class","mt-8 px-4 py-[6px] bg-red-400 text-white rounded-lg font-semibold transition duration-300 hover:bg-blue-700",3,"click",4,"ngIf"],["type","button","class","mt-8 px-4 py-[6px] bg-blue-600 text-white rounded-lg font-semibold transition duration-300 hover:bg-blue-700",3,"click",4,"ngIf"],[1,"mt-8","border-t","pt-4"],[1,"text-lg","font-semibold","mb-2"],[1,"bg-gray-100","p-4","rounded-lg","overflow-x-auto"],[3,"formGroup"],[4,"ngFor","ngForOf"],["class","col-span-1",4,"ngIf"],[1,"col-span-1"],[3,"ngSwitch"],[3,"control","field",4,"ngSwitchCase"],[3,"control","field"],["type","submit",1,"mt-8","px-4","py-[6px]","text-white","rounded-lg","font-semibold","transition","duration-300",3,"ngClass"],["type","button",1,"mt-8","px-4","py-[6px]","bg-red-400","text-white","rounded-lg","font-semibold","transition","duration-300","hover:bg-blue-700",3,"click"],["type","button",1,"mt-8","px-4","py-[6px]","bg-blue-600","text-white","rounded-lg","font-semibold","transition","duration-300","hover:bg-blue-700",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1),h(2,"img",2),c(3,"h4",3),p(4),a()(),c(5,"form",4),g("ngSubmit",function(){return i.onSubmit()}),c(6,"div",5),m(7,xl,2,2,"ng-container",6),a(),c(8,"div",7),m(9,Sl,2,4,"button",8)(10,El,2,0,"button",9)(11,Il,2,0,"button",10),a()()(),c(12,"div",11)(13,"h3",12),p(14,"Form Data Preview:"),a(),c(15,"pre",13),p(16),Mi(17,"json"),a()()),t&2&&(s(4),_(" ",i.currentEntity==null?null:i.currentEntity.title," "),s(),l("formGroup",i.form),s(2),l("ngIf",i.currentEntity),s(2),l("ngIf",i.isLastEntityForm&&!i.isCollectionForm),s(),l("ngIf",i.isCollectionForm),s(),l("ngIf",!i.isLastEntityForm||i.isCollectionForm),s(5),tt(Ai(17,7,i.form.value)))},dependencies:[Se,et,I,Ee,Ie,ur,sr,Ln,tn,en,nn,rn,on,sn,an,ln,cn,un,dn,Ti]})}});function Ml(n,e){if(n&1){let t=N();c(0,"div",6),g("click",function(){D(t);let r=d();return F(r.toggleSidebar())}),a()}}function Al(n,e){if(n&1){let t=N();c(0,"li",15),g("click",function(){let r=D(t).$implicit,o=d(3);return F(o.selectEntity(r))}),p(1),a()}if(n&2){let t=e.$implicit,i=d(3);l("ngClass",Vi(2,Vl,t===i.currentEntity,t===i.currentEntity,t!==i.currentEntity)),s(),_(" ",t.title," ")}}function Ol(n,e){if(n&1&&(c(0,"div",12)(1,"ul",13),m(2,Al,2,6,"li",14),a()()),n&2){let t=d(),i=t.$implicit,r=t.index;Fi("id","content-",r,""),s(2),l("ngForOf",i.entities)}}function Tl(n,e){if(n&1){let t=N();c(0,"div",7)(1,"button",8),g("click",function(){let r=D(t).index,o=d();return F(o.toggleAccordion(r))}),h(2,"img",9),c(3,"span",10),p(4),a()(),m(5,Ol,3,3,"div",11),h(6,"hr"),a()}if(n&2){let t=e.$implicit,i=e.index,r=d();s(2),l("src",r.getAssetPath("down-caret.svg"),Xt)("ngClass",wi(4,wl,r.isAccordionOpen[i])),s(2),tt(t.title),s(),l("ngIf",r.isAccordionOpen[i])}}var Fl,wl,Vl,mn,xo=C(()=>{"use strict";v();li();ci();R();Fl=(n,e)=>({"translate-x-0":n,"-translate-x-full":e,"fixed top-0 left-0 w-64 z-[1000]":!0,"lg:relative lg:translate-x-0 lg:w-auto":!0}),wl=n=>({"rotate-90":n}),Vl=(n,e,t)=>({"bg-[#e8eaf6] text-[#3f51b5] relative":n,"before:content-[''] before:absolute before:-left-4 before:top-0 before:bottom-0 before:w-1 before:bg-[#3f51b5] before:rounded-r":e,"text-gray-500 hover:bg-[#f0f4f8] hover:text-gray-600":t});mn=class n{constructor(e,t){this.entitySelectionService=e;this.assetPathService=t}formSections=[];formTitle;currentEntity=null;isAccordionOpen=[];isSidebarOpen=!1;ngOnInit(){console.log("2"),this.isAccordionOpen=new Array(this.formSections.length).fill(!1),this.entitySelectionService.currentEntity$.subscribe(e=>{e&&this.openAccordionForEntity(e)})}selectEntity(e){this.entitySelectionService.selectEntity(e)}openAccordionForEntity(e){this.formSections.forEach((t,i)=>{t.entities.find(o=>o.entityName===e.entityName)&&(this.isAccordionOpen[i]=!0)})}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}toggleAccordion(e){this.isAccordionOpen[e]=!this.isAccordionOpen[e]}getAssetPath(e){return this.assetPathService.getFullAssetPath(e)}static \u0275fac=function(t){return new(t||n)(S(Lt),S(Bt))};static \u0275cmp=E({type:n,selectors:[["app-side-menu"]],inputs:{formSections:"formSections",formTitle:"formTitle",currentEntity:"currentEntity"},decls:6,vars:7,consts:[["id","side-menu-input",1,"fixed","top-4","left-4","z-[1001]","p-2","bg-[#3f51b5]","text-white","border-none","text-2xl","cursor-pointer","rounded-full","shadow-md","transition-colors","duration-300","ease-in-out","hover:bg-[#303f9f]","lg:hidden",3,"click"],["alt","Menu Icon",1,"w-4","h-4",3,"src"],["class","fixed inset-0 bg-black bg-opacity-50 transition-opacity duration-300 ease-in-out z-[1000] lg:hidden",3,"click",4,"ngIf"],[1,"bg-white","text-gray-800","h-full","overflow-y-auto","transition-transform","duration-300","ease-in-out","shadow-md","lg:shadow-none","lg:transform-none",3,"ngClass"],[1,"p-2","mt-8","lg:mt-0"],["class","mb-2 xl:mb-3",4,"ngFor","ngForOf"],[1,"fixed","inset-0","bg-black","bg-opacity-50","transition-opacity","duration-300","ease-in-out","z-[1000]","lg:hidden",3,"click"],[1,"mb-2","xl:mb-3"],[1,"flex","gap-1","items-center","w-full","font-semibold","text-left","py-3","focus:outline-none",3,"click"],["alt","",1,"text-gray-600",3,"src","ngClass"],[1,"text-sm","lg:text-xs","xl:text-sm","font-semibold","text-gray-500"],[3,"id",4,"ngIf"],[3,"id"],[1,"list-none","p-0","m-0"],["class","py-3 ml-4 px-3 mb-3 text-sm lg:text-xs xl:text-sm leading-tight break-words text-left cursor-pointer font-semibold",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"py-3","ml-4","px-3","mb-3","text-sm","lg:text-xs","xl:text-sm","leading-tight","break-words","text-left","cursor-pointer","font-semibold",3,"click","ngClass"]],template:function(t,i){t&1&&(c(0,"button",0),g("click",function(){return i.toggleSidebar()}),h(1,"img",1),a(),m(2,Ml,1,0,"div",2),c(3,"nav",3)(4,"div",4),m(5,Tl,7,6,"div",5),a()()),t&2&&(s(),l("src",i.getAssetPath("navigation-menu.svg"),Xt),s(),l("ngIf",i.isSidebarOpen),s(),l("ngClass",be(4,Fl,i.isSidebarOpen,!i.isSidebarOpen)),s(2),l("ngForOf",i.formSections))},dependencies:[Se,et,I],styles:[".rotate-90[_ngcontent-%COMP%]{transform:rotate(90deg);transition:transform .3s ease}"],changeDetection:0})}});var fn,So=C(()=>{"use strict";v();fn=class n{processIntoLayout(e,t){return console.log("Data",e),console.log("Layout",t),e.map(i=>{let r={};return Object.keys(t).forEach(o=>{if(o!=="cardType"){let u=t[o];r[o]=i.hasOwnProperty(u)?i[u]:u}}),i.tempId&&(r.tempId=i.tempId),r})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Pl(n,e){n&1&&(c(0,"div",2)(1,"div",3)(2,"h2",4),p(3,"No Data Available"),a(),c(4,"p",5),p(5," It looks like there are no items in this collection. You can add new items to get started. "),a()()())}function Rl(n,e){if(n&1&&(c(0,"div",18),p(1),a()),n&2){let t=d(2);s(),_(" ",t.subTitle," ")}}function jl(n,e){if(n&1&&(c(0,"div",19),p(1),a()),n&2){let t=d(2);s(),_(" ",t.subTitle2," ")}}function Gl(n,e){if(n&1&&(c(0,"div",20),p(1),a()),n&2){let t=d(2);s(),_(" ",t.footer," ")}}function Ul(n,e){if(n&1){let t=N();c(0,"button",21),g("click",function(){D(t);let r=d(2);return F(r.onEdit())}),h(1,"img",22),a()}}function Ll(n,e){if(n&1){let t=N();c(0,"button",23),g("click",function(){D(t);let r=d(2);return F(r.onDelete())}),h(1,"img",24),a()}}function Bl(n,e){if(n&1&&(c(0,"div",6)(1,"div",7),h(2,"img",8),a(),c(3,"div",9)(4,"div",10),p(5),a(),m(6,Rl,2,1,"div",11)(7,jl,2,1,"div",12)(8,Gl,2,1,"div",13),h(9,"div",14),c(10,"div",15),m(11,Ul,2,0,"button",16)(12,Ll,2,0,"button",17),a()()()),n&2){let t=d();s(5),tt(t.title),s(),l("ngIf",t.subTitle),s(),l("ngIf",t.subTitle2),s(),l("ngIf",t.footer),s(3),l("ngIf",t.actions?t.actions.includes("editButton"):!1),s(),l("ngIf",t.actions?t.actions.includes("deleteButton"):!1)}}var hn,Eo=C(()=>{"use strict";v();v();R();hn=class n{itemData;image;footer;description;title;subTitle;subTitle2;actions;deleteItem=new $;editItem=new $;ngOnInit(){let{image:e,title:t,subTitle:i,subTitle2:r,description:o,footer:u,actions:f}=this.itemData;this.image=e,this.title=t,this.subTitle=i,this.subTitle2=r,this.description=o,this.footer=u,this.actions=f}onDelete(){this.deleteItem.emit()}onEdit(){this.editItem.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-data-card"]],inputs:{itemData:"itemData"},outputs:{deleteItem:"deleteItem",editItem:"editItem"},decls:3,vars:2,consts:[["itemDataCardTemplate",""],["class","max-w-sm mx-auto bg-white rounded-lg border-[1px] border-gray-500 sm:border-dashed overflow-hidden",4,"ngIf","ngIfElse"],[1,"max-w-sm","mx-auto","bg-white","rounded-lg","border-[1px]","border-gray-500","sm:border-dashed","overflow-hidden"],[1,"p-6","text-center"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600","mb-4"],[1,"h-48","mx-auto","my-4","bg-white","rounded-md","border-[1px]","border-gray-300","flex"],[1,"w-[31%]","md:w-[27.5%]","flex","items-center","justify-center","bg-blue-200"],["src","../../../../assets/map.png","alt","Address Image",1,"object-cover","w-[75%]","h-[30%]"],[1,"flex-1","p-2","flex","flex-col","gap-2"],[1,"font-semibold","text-[16px]","md:text-lg"],["class","text-gray-700 text-xs md:text-sm",4,"ngIf"],["class","text-gray-700 text-xs",4,"ngIf"],["class","text-gray-700",4,"ngIf"],[1,"flex-grow"],[1,"flex","p-2","justify-end","gap-2"],["class","flex items-center text-blue-500 hover:text-blue-700 border-[1px] border-gray-400 rounded-sm px-4 py-2",3,"click",4,"ngIf"],["class","flex items-center text-red-500 hover:text-red-700 border-[1px] border-gray-400 rounded-sm px-4 py-2",3,"click",4,"ngIf"],[1,"text-gray-700","text-xs","md:text-sm"],[1,"text-gray-700","text-xs"],[1,"text-gray-700"],[1,"flex","items-center","text-blue-500","hover:text-blue-700","border-[1px]","border-gray-400","rounded-sm","px-4","py-2",3,"click"],["src","../../../../assets/edit.svg","alt","edit",1,"w-4","h-4"],[1,"flex","items-center","text-red-500","hover:text-red-700","border-[1px]","border-gray-400","rounded-sm","px-4","py-2",3,"click"],["src","../../../../assets/delete.svg","alt","delete",1,"w-4","h-4"]],template:function(t,i){if(t&1&&m(0,Pl,6,0,"div",1)(1,Bl,13,6,"ng-template",null,0,xe),t&2){let r=Ce(2);l("ngIf",i.itemData.length===0)("ngIfElse",r)}},dependencies:[I]})}});function Hl(n,e){n&1&&(c(0,"div",2)(1,"div",3)(2,"h2",4),p(3,"No Data Available"),a(),c(4,"p",5),p(5," It looks like there are no items in this collection. You can add new items to get started. "),a()()())}function ql(n,e){if(n&1){let t=N();c(0,"div",6)(1,"div",7)(2,"button",8),g("click",function(){D(t);let r=d();return F(r.onEdit())}),h(3,"img",9),a(),c(4,"button",8),g("click",function(){D(t);let r=d();return F(r.onDelete())}),h(5,"img",10),a()(),c(6,"div",11),h(7,"img",12),a(),c(8,"div",13)(9,"div",14),p(10),a(),c(11,"div",15),p(12),a()(),c(13,"button",16),p(14," View More "),a()()}if(n&2){let t=d();s(7),Di("src",t.avatarUrl||"../../../../assets/boss.png",Xt),s(3),_(" ",t.title||"No Title"," "),s(2),_(" ",t.subTitle||"No Subtitle"," ")}}var gn,Io=C(()=>{"use strict";v();v();R();gn=class n{itemData;avatarUrl;title;subTitle;actions;deleteItem=new $;editItem=new $;ngOnInit(){let{avatarUrl:e,title:t,subTitle:i,actions:r}=this.itemData;this.avatarUrl=e,this.title=t,this.subTitle=i,this.actions=r}onDelete(){this.deleteItem.emit()}onEdit(){this.editItem.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=E({type:n,selectors:[["app-avatar-card"]],inputs:{itemData:"itemData"},outputs:{deleteItem:"deleteItem",editItem:"editItem"},decls:3,vars:2,consts:[["avatarCardTemplate",""],["class","max-w-sm mx-auto bg-white rounded-lg border-[1px] border-gray-500 border-dashed overflow-hidden",4,"ngIf","ngIfElse"],[1,"max-w-sm","mx-auto","bg-white","rounded-lg","border-[1px]","border-gray-500","border-dashed","overflow-hidden"],[1,"p-6","text-center"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600","mb-4"],[1,"p-4","mx-auto","my-4","bg-white","rounded-md","border-[1px]","border-gray-300","flex","flex-col","items-center","h-full"],[1,"w-full","flex","justify-end","gap-2","mb-2"],[3,"click"],["src","../../../../../../../assets/edit-text.png","alt","",1,"w-6","h-6"],["src","../../../../../../../assets/remove.png","alt","",1,"w-6","h-6"],[1,"w-[120px]","h-[120px]","bg-gray-200","rounded-full","overflow-hidden","flex","justify-center","items-center"],["alt","Profile Picture",1,"object-cover","w-full","h-full",3,"src"],[1,"mt-4","text-center"],[1,"font-semibold","text-[18px]","md:text-lg"],[1,"text-gray-600","text-sm","md:text-base"],[1,"mt-4","bg-blue-500","text-white","py-2","px-2","sm:px-4","rounded","hover:bg-blue-600","text-xs","sm:text-base"]],template:function(t,i){if(t&1&&m(0,Hl,6,0,"div",1)(1,ql,15,3,"ng-template",null,0,xe),t&2){let r=Ce(2);l("ngIf",i.itemData.length===0)("ngIfElse",r)}},dependencies:[I]})}});function Wl(n,e){if(n&1){let t=N();c(0,"div")(1,"app-data-card",19),g("deleteItem",function(){let r=D(t).$implicit,o=d(3);return F(o.onDeleteItem(r.tempId))})("editItem",function(){let r=D(t).$implicit,o=d(3);return F(o.onEditItem(r.tempId))}),a()()}if(n&2){let t=e.$implicit;s(),l("itemData",t)}}function Xl(n,e){if(n&1&&(c(0,"div",17),m(1,Wl,2,1,"div",18),a()),n&2){let t=d(2);s(),l("ngForOf",t.filteredItems)}}function Zl(n,e){if(n&1&&(c(0,"th",27),p(1),a()),n&2){let t=e.$implicit;s(),_(" ",t," ")}}function Yl(n,e){if(n&1&&(c(0,"td",34)(1,"div",35)(2,"div",36),p(3),a()()()),n&2){let t=e.$implicit,i=d().$implicit;s(3),tt(i[t])}}function Kl(n,e){if(n&1){let t=N();c(0,"button",37),g("click",function(){D(t);let r=d().$implicit,o=d(3);return F(o.onEditItem(r.tempId))}),h(1,"img",38),a()}}function Ql(n,e){if(n&1){let t=N();c(0,"button",39),g("click",function(){D(t);let r=d().$implicit,o=d(3);return F(o.onDeleteItem(r.tempId))}),h(1,"img",40),a()}}function Jl(n,e){if(n&1&&(c(0,"tr",28),m(1,Yl,4,1,"td",29),c(2,"td",30)(3,"div",31),m(4,Kl,2,0,"button",32)(5,Ql,2,0,"button",33),a()()()),n&2){let t=e.$implicit,i=d(3);s(),l("ngForOf",i.columns),s(3),l("ngIf",t.actions?t.actions.includes("editButton"):!1),s(),l("ngIf",t.actions?t.actions.includes("deleteButton"):!1)}}function tc(n,e){if(n&1&&(c(0,"div",20)(1,"table",21)(2,"thead",22)(3,"tr"),m(4,Zl,2,1,"th",23),c(5,"th",24),p(6," Actions "),a()()(),c(7,"tbody",25),m(8,Jl,6,3,"tr",26),a()()()),n&2){let t=d(2);s(4),l("ngForOf",t.columns),s(4),l("ngForOf",t.filteredItems)}}function ec(n,e){if(n&1){let t=N();c(0,"div")(1,"app-avatar-card",42),g("deleteItem",function(){let r=D(t).$implicit,o=d(3);return F(o.onDeleteItem(r.tempId))})("editItem",function(){let r=D(t).$implicit,o=d(3);return F(o.onEditItem(r.tempId))}),a()()}if(n&2){let t=e.$implicit;s(),l("itemData",t)}}function nc(n,e){if(n&1&&(c(0,"div",41),m(1,ec,2,1,"div",18),a()),n&2){let t=d(2);s(),l("ngForOf",t.filteredItems)}}function ic(n,e){if(n&1&&(Vt(0,9),m(1,Xl,2,1,"div",14)(2,tc,9,2,"div",15)(3,nc,2,1,"div",16),Mt()),n&2){let t=d();l("ngSwitch",t.cardType),s(),l("ngSwitchCase","data-card"),s(),l("ngSwitchCase","list-item"),s(),l("ngSwitchCase","avatar-card")}}function rc(n,e){if(n&1&&(c(0,"div",10),h(1,"app-data-card",43),a()),n&2){let t=d();s(),l("itemData",t.filteredItems)}}function oc(n,e){n&1&&(c(0,"button",44),p(1," Submit "),a())}function sc(n,e){if(n&1){let t=N();c(0,"button",45),g("click",function(){D(t);let r=d();return F(r.onNextEntity())}),p(1," Next "),a()}}var vn,Do=C(()=>{"use strict";v();It();v();ui();So();R();Eo();Io();vn=class n{constructor(e,t){this.dataFetchService=e;this.collectionDataProcessingService=t}currentEntity;formsData;isLastEntity;collectionProperties;viewType;itemMapping;cardType;collectionItems=[];stagedData=[];fetchApi;deleteApi;apiData=[];columns=[];searchQuery="";filteredItems=[];switchtoFormContent=new $;nextEntity=new $;updateFormsData=new $;editForm=new $;ngOnInit(){this.processCollectionDataIntoLayout(),console.log("Collection Initialized"),console.log(this.collectionProperties?.viewType)}ngOnChanges(e){e.currentEntity&&(this.processCollectionDataIntoLayout(),console.log(this.collectionProperties?.viewType))}extractCollectionProperties(){this.collectionProperties=this.currentEntity?.collectionProperties,this.viewType=this.collectionProperties?.viewType,this.itemMapping=this.collectionProperties?.itemLayout,this.cardType=this.itemMapping?.cardType}loadStagedData(){this.currentEntity&&(this.stagedData=this.formsData[this.currentEntity.fieldName]?.collectionData?.map(e=>y({},e))||[],this.stagedData.forEach(e=>{e.tempId||console.warn("Item missing temporary Id:",e)}),console.log("Staged Data:",this.stagedData))}processCollectionDataIntoLayout(){return Cn(this,null,function*(){this.extractCollectionProperties(),yield this.loadApiData(),this.loadStagedData(),this.updateCollectionItems(),this.filterItems()})}loadApiData(){return Cn(this,null,function*(){if(this.fetchApi=this.collectionProperties?.api,this.deleteApi=this.collectionProperties?.deleteApi,this.fetchApi)try{let e=yield mi(this.fetchCollection(this.fetchApi));this.apiData=e||[],console.log("API Data:",this.apiData)}catch(e){this.handleFetchError(e)}else console.warn("API endpoint is not defined")})}filterItems(){this.searchQuery?this.filteredItems=this.collectionItems.filter(e=>Object.values(e).some(t=>String(t).toLowerCase().includes(this.searchQuery.toLowerCase()))):this.filteredItems=[...this.collectionItems]}onSearchChange(e){let t=e.target;this.searchQuery=t.value,console.log(this.searchQuery),this.filterItems()}onDeleteItem(e){this.stagedData=this.stagedData.filter(t=>t.tempId!==e),this.currentEntity&&(this.formsData[this.currentEntity.fieldName].collectionData=this.stagedData.map(r=>{var o=r,{tempId:t}=o,i=di(o,["tempId"]);return i})),this.updateFormsData.emit(this.formsData),this.updateCollectionItems(),this.filterItems()}onEditItem(e){this.editForm.emit(e)}updateCollectionItems(){this.viewType==="table"?(this.collectionItems=[...this.apiData,...this.stagedData],this.collectionItems.length>0&&(this.columns=Object.keys(this.collectionItems[0])),this.collectionItems=this.collectionItems.map(e=>X(y({},e),{actions:this.itemMapping?.actions}))):(this.collectionItems=this.collectionDataProcessingService.processIntoLayout([...this.apiData,...this.stagedData],this.itemMapping),this.columns=[]),console.log("Collection Items:",this.collectionItems)}goToFormContent(){this.switchtoFormContent.emit(),console.log("Switch!")}onNextEntity(){this.nextEntity.emit()}fetchCollection(e){return this.dataFetchService.fetchCollection(e)}handleFetchError(e){console.error(e,"Error fetching select options"),this.apiData=[]}static \u0275fac=function(t){return new(t||n)(S($t),S(fn))};static \u0275cmp=E({type:n,selectors:[["app-collection"]],inputs:{currentEntity:"currentEntity",formsData:"formsData",isLastEntity:"isLastEntity"},outputs:{switchtoFormContent:"switchtoFormContent",nextEntity:"nextEntity",updateFormsData:"updateFormsData",editForm:"editForm"},features:[zt],decls:17,vars:4,consts:[["id","form-content",1,"p-4","lg-p-8","rounded-lg","bg-white"],[1,"border-2","border-dashed","rounded-lg","p-2","sm:p-4","lg:p-6"],[1,"flex","justify-between","items-center"],[1,"flex","gap-2","items-center"],["src","../../../../../assets/information2.png","alt","",1,"w-7","h-7"],[1,"font-semibold"],["type","text","placeholder","Search...",1,"border","border-gray-300","rounded-sm","px-4","py-[6px]","focus:outline-none","focus:ring-2","focus:ring-blue-400","w-[40%]",3,"input"],[1,"px-4","py-[6px]","bg-blue-600","text-white","rounded-md","font-semibold","transition","duration-300","hover:bg-blue-700","flex","gap-2","items-center",3,"click"],["src","../../../../assets/plus.svg","alt","",1,"w-4","h-4"],[3,"ngSwitch"],[1,"p-6","lg:p-14"],[1,"flex","justify-end"],["type","submit","class","mt-8 px-4 py-[6px] bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition duration-300",4,"ngIf"],["type","button","class","mt-8 px-4 py-[6px] bg-blue-600 text-white rounded-lg font-semibold transition duration-300 hover:bg-blue-700",3,"click",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8 sm:p-3 lg:p-14",4,"ngSwitchCase"],["class","overflow-x-auto",4,"ngSwitchCase"],["class","grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-5 gap-2 sm:gap-5 lg:gap-8 sm:p-3 lg:p-14",4,"ngSwitchCase"],[1,"grid","grid-cols-1","sm:grid-cols-2","xl:grid-cols-3","gap-8","sm:p-3","lg:p-14"],[4,"ngFor","ngForOf"],[3,"deleteItem","editItem","itemData"],[1,"overflow-x-auto"],[1,"mt-4","border","border-gray-300"],[1,"bg-gray-100"],["class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",4,"ngFor","ngForOf"],[1,"px-6","py-3","text-left","text-sm","font-medium","text-gray-500","uppercase","tracking-wider",2,"position","sticky","right","0","background","white","z-index","1"],[1,"bg-white","divide-y","divide-gray-200"],["class","text-xs",4,"ngFor","ngForOf"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"text-xs"],["class","border border-gray-300 p-2",4,"ngFor","ngForOf"],[1,"border","border-gray-300","p-2",2,"position","sticky","right","0","background","white","z-index","1"],[1,"flex","gap-2","justify-center"],["class","flex items-center text-blue-500 hover:text-blue-700 border-[1px] border-gray-400 rounded-sm p-2",3,"click",4,"ngIf"],["class","flex items-center text-red-500 hover:text-red-700 border-[1px] border-gray-400 rounded-sm p-2",3,"click",4,"ngIf"],[1,"border","border-gray-300","p-2"],[1,"flex","items-center","justify-between"],[1,"text-gray-700"],[1,"flex","items-center","text-blue-500","hover:text-blue-700","border-[1px]","border-gray-400","rounded-sm","p-2",3,"click"],["src","../../../../assets/edit.svg","alt","edit",1,"w-4","h-4"],[1,"flex","items-center","text-red-500","hover:text-red-700","border-[1px]","border-gray-400","rounded-sm","p-2",3,"click"],["src","../../../../assets/delete.svg","alt","delete",1,"w-4","h-4"],[1,"grid","grid-cols-2","sm:grid-cols-3","xl:grid-cols-5","gap-2","sm:gap-5","lg:gap-8","sm:p-3","lg:p-14"],[1,"",3,"deleteItem","editItem","itemData"],[1,"",3,"itemData"],["type","submit",1,"mt-8","px-4","py-[6px]","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","font-semibold","transition","duration-300"],["type","button",1,"mt-8","px-4","py-[6px]","bg-blue-600","text-white","rounded-lg","font-semibold","transition","duration-300","hover:bg-blue-700",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h(4,"img",4),c(5,"h4",5),p(6),a()(),c(7,"input",6),g("input",function(o){return i.onSearchChange(o)}),a(),c(8,"button",7),g("click",function(){return i.goToFormContent()}),p(9," Add "),h(10,"img",8),a()(),c(11,"div"),m(12,ic,4,4,"ng-container",9)(13,rc,2,1,"div",10),a(),c(14,"div",11),m(15,oc,2,0,"button",12)(16,sc,2,0,"button",13),a()()()),t&2&&(s(6),_(" ",i.collectionProperties==null?null:i.collectionProperties.collectionTitle," "),s(6),ye(i.filteredItems.length>0?12:13),s(3),l("ngIf",i.isLastEntity),s(),l("ngIf",!i.isLastEntity))},dependencies:[et,I,Ee,Ie,hn,gn]})}});function lc(n,e){if(n&1){let t=N();c(0,"app-form-content",9),g("sendFormData",function(r){D(t);let o=d(2);return F(o.handleFormData(r))})("nextEntity",function(){D(t);let r=d(2);return F(r.handleNextEntity())}),a()}if(n&2){let t=d(2);l("form",t.form)("isLastEntityForm",t.onLastEntity)("isCollectionForm",t.onCollection)("isEditForm",t.onFormEdit)("currentEntity",t.currentEntity)}}function cc(n,e){if(n&1){let t=N();c(0,"app-collection",10),g("switchtoFormContent",function(){D(t);let r=d(2);return F(r.displayFormContent())})("editForm",function(r){D(t);let o=d(2);return F(o.editFormContent(r))})("nextEntity",function(){D(t);let r=d(2);return F(r.handleNextEntity())})("updateFormsData",function(r){D(t);let o=d(2);return F(o.onFormsDataUpdated(r))}),a()}if(n&2){let t=d(2);l("isLastEntity",t.onLastEntity)("currentEntity",t.currentEntity)("formsData",t.collatedFormData)}}function uc(n,e){if(n&1&&(c(0,"div",3)(1,"div",4),h(2,"app-side-menu",5),a(),c(3,"div",6),m(4,lc,1,5,"app-form-content",7)(5,cc,1,3,"app-collection",8),a()()),n&2){let t=d();s(2),l("currentEntity",t.currentEntity)("formSections",t.formSections)("formTitle",t.formDefinition==null?null:t.formDefinition.title),s(2),ye(!(t.currentEntity!=null&&t.currentEntity.isCollection)||t.showFormContent?4:5)}}var _n,Fo=C(()=>{"use strict";O();It();En();Bn();Wr();Xr();no();v();O();Pi();Xe();io();li();ci();R();bo();xo();Do();_n=class n extends Ze{constructor(t,i,r,o,u,f){super(t,i);this.store=r;this.formService=o;this.entitySelectionService=u;this.assetPathService=f;this.formData$=this.initializeFormDataObservable()}formId;form;collatedFormData={};formDefinition;formEntities=[];currentEntitySubscription;formSections=[];currentEntity=null;showFormContent=!1;onCollection=!1;onLastEntity=!1;onFormEdit={status:!1,itemTempId:""};formData$;ngOnInit(){this.loadInitialData(),this.fetchFormSchema(this.formId),this.initializeCurrentFormGroup(),console.log("Form Renderer Initialized")}ngOnDestroy(){this.currentEntitySubscription?.unsubscribe()}initializeFormDataObservable(){return fi([this.store.select(gt.getConfigurations),this.store.select(gt.getCurrentForm),this.store.select(gt.getUIState)]).pipe(Y(([t,i,r])=>({configurations:t,currentForm:i,uiState:r})))}loadInitialData(){this.updateConfigurations(),this.setCurrentForm(),this.updateUIState()}fetchFormSchema(t){let i=this.assetPathService.getAssetPath();this.http.get(`${i}mocks/form-schema.json`).subscribe(r=>{this.formDefinition=r.formDefinition,console.log(this.formDefinition),this.formService.setFormDefinition(this.formDefinition),this.formSections=this.formService.getSections(),this.selectInitialEntity(),this.formEntities=this.formService.getEntities()})}selectInitialEntity(){this.formSections.length>0&&this.formSections[0].entities.length>0&&this.selectEntity(this.formSections[0].entities[0])}initializeCurrentFormGroup(){this.currentEntitySubscription=this.entitySelectionService.currentEntity$.pipe(he()).subscribe(t=>{console.log("Current Entity Changed:",t),this.currentEntity=t,this.currentEntity&&(this.onCollection=this.currentEntity.isCollection,this.form=this.createFormGroup(this.currentEntity,{}),this.onLastEntity=this.currentEntity.isFinalEntity??!1,this.onFormEdit={status:!1,itemTempId:""})})}createFormGroup(t,i={}){let r=this.fb.group({});return t.fields.forEach(o=>{let u=this.fb.control(i[o.fieldName]||o.data.defaultValue||"",this.getValidators(o));o.behavior?.disabled&&u.disable(),r.addControl(o.fieldName,u)}),r}getValidators(t){let i=[];if(t.validation?.required&&i.push(ct.required),t.validation?.minLength&&i.push(ct.minLength(t.validation.minLength)),t.validation?.maxLength&&i.push(ct.maxLength(t.validation.maxLength)),t.validation?.pattern&&i.push(ct.pattern(t.validation.pattern)),t.validation?.email&&i.push(ct.email),t.validation?.min&&i.push(ct.min(t.validation.min)),t.validation?.max&&i.push(ct.max(t.validation.max)),t.validation?.whitespace&&i.push(this.whitespaceValidator),t.validation?.custom){let r=this.getCustomValidator(t.validation?.custom);r&&i.push(r)}return i}whitespaceValidator(t){let i=(t.value||"").trim().length===0;return t.value!==null&&t.value!==""&&i?{whitespace:!0}:null}getCustomValidator(t){return null}handleFormData(t){console.log("Handle Form Data Called");let{formName:i,formData:r,itemTempId:o}=t;this.onCollection?this.transformCollectionEntity(i,r,o):this.transformSingleEntity(i,r),console.log("Collated Data",this.collatedFormData),this.onLastEntity&&this.sendFormData(this.nestFormData(this.collatedFormData))}transformSingleEntity(t,i){let r=this.currentEntity?.parentEntity??null;r?this.collatedFormData[t]={parentEntity:r,entityName:this.currentEntity?.entityName??"",data:i}:this.collatedFormData[t]={parentEntity:null,entityName:this.currentEntity?.entityName??"",data:i}}transformCollectionEntity(t,i,r){let o=this.collatedFormData[t];if(i.tempId=r||eo(),console.log("Generated temp Id: ",i.tempId),o){let u=o.collectionData.findIndex(f=>f.tempId===r);u!==-1?o.collectionData[u]=i:o.collectionData.push(i)}else this.collatedFormData[t]={parentEntity:this.currentEntity?.parentEntity??null,entityName:this.currentEntity?.entityName??"",collectionData:[i]}}onFormsDataUpdated(t){this.collatedFormData=y({},t)}nestFormData(t){let i={},r={};for(let o in t)if(t.hasOwnProperty(o)){let u=t[o];i[o]=y(y({},u.data),u.collectionData?{[o]:[...u.collectionData]}:{})}for(let o in t)if(t.hasOwnProperty(o)){let u=t[o],f=u.parentEntity;if(f){for(let V in t)if(t.hasOwnProperty(V)&&t[V].entityName===f){i[V]||(i[V]={}),u.collectionData?i[V][o]||(i[V][o]=[...u.collectionData]):i[V][o]||(i[V][o]=i[o]);break}}else r[o]=i[o]}return r}displayFormContent(){this.initializeCurrentFormGroup(),this.showFormContent=!0,console.log("Switch reached")}editFormContent(t){let i=this.currentEntity?.fieldName;if(console.log("Field Name",i),!i){console.error("Current entity name is not available");return}console.log("Collated Data",this.collatedFormData);let r=this.collatedFormData[i];if(console.log("Entity Data",r),r){let o=r.collectionData?.find(u=>u.tempId===t);console.log("Item to edit",o),o?(this.form=this.createFormGroup(this.currentEntity,o),this.onFormEdit={status:!0,itemTempId:t},this.showFormContent=!0):console.error("Item not found with tempId:",t)}else console.error("No data found for entity:",i)}sendFormData(t){console.log("Processed Form Data",t),this.http.post("https://api-endpoint.com/submit",t).subscribe(r=>console.log("Form data submitted successfully:",r),r=>console.error("Error submitting form data:",r))}handleNextEntity(){if(this.showFormContent)this.showFormContent=!1;else{let t=this.formEntities.indexOf(this.currentEntity)+1;this.currentEntity&&t<this.formEntities.length&&this.entitySelectionService.selectEntity(this.formEntities[t]),console.log("Current Entity",this.currentEntity)}}updateConfigurations(){let t=[{id:1,name:"New Config"}];this.store.dispatch(new kt(t))}setCurrentForm(){let t={id:1,title:"New Form"};this.store.dispatch(new Pt(t))}updateUIState(){let t={activeFormId:"1",expandedSections:["section1","section2"]};this.store.dispatch(new Rt(t))}selectEntity(t){this.entitySelectionService.selectEntity(t)}static \u0275fac=function(i){return new(i||n)(S(mr),S(De),S(Ut),S(Qe),S(Lt),S(Bt))};static \u0275cmp=E({type:n,selectors:[["app-form-renderer"]],inputs:{formId:"formId"},features:[Q],decls:4,vars:2,consts:[["id","form-renderer",1,"flex","flex-col","justify-center","items-center","h-screen"],[1,"text-sm","font-semibold","text-[#3f51b5]","lg:text-base","xl:text-lg","w-full","p-4"],["class","w-full flex h-full overflow-hidden bg-gray-200",4,"ngIf"],[1,"w-full","flex","h-full","overflow-hidden","bg-gray-200"],[1,"lg:w-1/6","xl:w-[14.2857143%]","bg-white","shadow-md","overflow-y-auto"],[3,"currentEntity","formSections","formTitle"],[1,"flex-1","p-3","overflow-y-auto","shadow"],[3,"form","isLastEntityForm","isCollectionForm","isEditForm","currentEntity"],[3,"isLastEntity","currentEntity","formsData"],[3,"sendFormData","nextEntity","form","isLastEntityForm","isCollectionForm","isEditForm","currentEntity"],[3,"switchtoFormContent","editForm","nextEntity","updateFormsData","isLastEntity","currentEntity","formsData"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"p",1),p(2),a(),m(3,uc,6,4,"div",2),a()),i&2&&(s(2),_(" ",r.formDefinition==null?null:r.formDefinition.title," "),s(),l("ngIf",r.form))},dependencies:[I,pn,mn,vn]})}});var dc,wo,pc=C(()=>{R();O();Mo();Fo();v();dc=[{path:"",component:_n}],wo=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=lt({type:n});static \u0275inj=at({imports:[Ri.forChild(dc),Ni,hr,fr]})}});export{Le as a,xr as b,oe as c,Sr as d,Ut as e,mu as f,qr as g,Xe as h,H as i,zr as j,le as k,oo as l,_n as m,Fo as n,wo as o,pc as p};
