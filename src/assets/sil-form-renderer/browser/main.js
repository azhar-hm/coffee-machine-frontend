import{A as Et,B as zt,C as St,D as Qt,a as tt,b as et,c as nt,d as ot,e as it,f as st,g as rt,h as at,i as lt,j as ct,k as ut,l as ht,m as Lt,n as dt,o as pt,p as _t,q as mt,r as ft,s as u,t as F,u as gt,v as I,w as Ct,x as Zt,y as yt,z as kt}from"./chunk-XBYT6RO6.js";import{$ as J,Eb as $,Fb as At,Gb as K,I as z,Ib as Vt,K as Q,L as jt,M as G,Mb as W,O,Ob as Pt,Q as C,R as X,S as R,U as y,Y as H,a as d,b as g,ca as q,d as p,e as Nt,f as c,g as T,h as P,ja as E,jb as B,kb as Y,ma as S,nb as f,o as L,u as _,x as Z,xa as x,z as k}from"./chunk-JOZ2OC47.js";function Gt(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function Xt(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}function Ht(n){return typeof n=="function"}function Jt(n,e){if(!M){let t=Element.prototype;M=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE?M.call(n,e):!1}function qt(n,e){return n===e||n!==n&&e!==e}function Bt(n){let e={};return n.forEach(({propName:t,templateName:o,transform:i})=>{e[Gt(o)]=[t,i]}),e}function Yt(n,e){return e.get(x).resolveComponentFactory(n).inputs}function $t(n,e){let t=n.childNodes,o=e.map(()=>[]),i=-1;e.some((r,a)=>r==="*"?(i=a,!0):!1);for(let r=0,a=t.length;r<a;++r){let l=t[r],h=Kt(l,e,i);h!==-1&&o[h].push(l)}return o}function Kt(n,e,t){let o=t;return Xt(n)&&e.some((i,r)=>i!=="*"&&Jt(n,i)?(o=r,!0):!1),o}function Ft(n,e){let t=Yt(n,e.injector),o=e.strategyFactory||new w(n,e.injector),i=Bt(t);class r extends N{static{this.observedAttributes=Object.keys(i)}get ngElementStrategy(){if(!this._ngElementStrategy){let l=this._ngElementStrategy=o.create(this.injector||e.injector);t.forEach(({propName:h,transform:v})=>{if(!this.hasOwnProperty(h))return;let V=this[h];delete this[h],l.setInputValue(h,V,v)})}return this._ngElementStrategy}constructor(l){super(),this.injector=l}attributeChangedCallback(l,h,v,V){let[wt,Ut]=i[l];this.ngElementStrategy.setInputValue(wt,v,Ut)}connectedCallback(){let l=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),l=!0),this.ngElementStrategy.connect(this),l||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(l=>{let h=new CustomEvent(l.name,{detail:l.value});this.dispatchEvent(h)})}}return t.forEach(({propName:a,transform:l})=>{Object.defineProperty(r.prototype,a,{get(){return this.ngElementStrategy.getInputValue(a)},set(h){this.ngElementStrategy.setInputValue(a,h,l)},configurable:!0,enumerable:!0})}),r}var D,M,Wt,w,U,N,It=p(()=>{"use strict";f();jt();G();D={schedule(n,e){let t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return D.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return D.schedule(n,16);let e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};Wt=10,w=class{constructor(e,t){this.componentFactory=t.get(x).resolveComponentFactory(e)}create(e){return new U(this.componentFactory,e)}},U=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new L(1),this.events=this.eventEmitters.pipe(z(o=>Z(...o))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:o})=>o)),this.ngZone=this.injector.get(S),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=D.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},Wt))})}getInputValue(e){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t,o){this.runInZone(()=>{if(o&&(t=o.call(this.componentRef?.instance,t)),this.componentRef===null){this.initialInputValues.set(e,t);return}qt(t,this.getInputValue(e))&&!(t===void 0&&this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges())})}initializeComponent(e){let t=E.create({providers:[],parent:this.injector}),o=$t(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,o,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Y),this.implementsOnChanges=Ht(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(B).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)}),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map(({propName:o,templateName:i})=>e.instance[o].pipe(_(a=>({name:i,value:a}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||this.inputChanges===null)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=D.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;this.inputChanges===null&&(this.inputChanges={});let o=this.inputChanges[e];if(o){o.currentValue=t;return}let i=this.unchangedInputs.has(e),r=i?void 0:this.getInputValue(e);this.inputChanges[e]=new q(r,t,i)}detectChanges(){this.componentRef!==null&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},N=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}});var b,j=p(()=>{"use strict";b={configurations:[],currentEntity:null,formData:{},uiState:{activeFormId:"",expandedSections:[],showFormContent:!1,isLoading:!1,error:void 0},formEntities:[],formSections:[],showFormContent:!1,onCollection:!1,onLastEntity:!1,onExistingForm:{status:!1,type:"",itemTempId:""},fileUploadsQueue:[]}});var s,A=p(()=>{"use strict";I();j();Lt();f();s=class{updateConfigurations(e,t){e.patchState({configurations:t.payload})}updateUIState(e,t){let o=e.getState();e.patchState({uiState:d(d({},o.uiState),t.payload)})}setCurrentEntity(e,t){e.patchState({currentEntity:t.payload})}updateFormData(e,t){e.patchState({formData:t.payload})}resetFormState(e){e.setState({configurations:[],currentEntity:null,formData:{},uiState:{activeFormId:"",expandedSections:[],showFormContent:!1,isLoading:!1,error:void 0},formDefinition:void 0,formEntities:[],formSections:[],caseDetails:void 0,showFormContent:!1,onCollection:!1,onLastEntity:!1,onExistingForm:{status:!1,type:"",itemTempId:""},fileUploadsQueue:[]})}initializeFormState(e,t){let o=e.getState();e.patchState(d(d({},o),t.payload))}updatePartialFormData(e,t){let o=e.getState().formData,i={parentEntity:null,entityName:t.entityName,collectionData:t.isCollection?[...o[t.entityName]?.collectionData||[],t.formData]:void 0,data:t.isCollection?void 0:t.formData};e.patchState({formData:g(d({},o),{[t.entityName]:i})})}updateShowFormContent(e,t){e.patchState({showFormContent:t.payload})}updateOnCollection(e,t){e.patchState({onCollection:t.payload})}updateOnLastEntity(e,t){e.patchState({onLastEntity:t.payload})}updateOnExistingForm(e,t){e.patchState({onExistingForm:t.payload})}updateFileUploadsQueue(e,t){e.patchState({fileUploadsQueue:t.payload})}};T(s,"\u0275fac",function(t){return new(t||s)}),T(s,"\u0275prov",C({token:s,factory:s.\u0275fac})),c([u(tt)],s.prototype,"updateConfigurations",1),c([u(et)],s.prototype,"updateUIState",1),c([u(nt)],s.prototype,"setCurrentEntity",1),c([u(ot)],s.prototype,"updateFormData",1),c([u(st)],s.prototype,"resetFormState",1),c([u(rt)],s.prototype,"initializeFormState",1),c([u(it)],s.prototype,"updatePartialFormData",1),c([u(at)],s.prototype,"updateShowFormContent",1),c([u(lt)],s.prototype,"updateOnCollection",1),c([u(ct)],s.prototype,"updateOnLastEntity",1),c([u(ut)],s.prototype,"updateOnExistingForm",1),c([u(ht)],s.prototype,"updateFileUploadsQueue",1),s=c([F({name:"form",defaults:b})],s)});var m,Dt=p(()=>{"use strict";I();j();A();m=class{};m=c([F({name:"app",defaults:{form:b},children:[s]})],m)});function ne(n){return d({name:"NGXS"},n)}var vt,ee,bt,Tt,Ot=p(()=>{"use strict";f();f();I();_t();G();vt=new R("NGXS_DEVTOOLS_OPTIONS"),ee=(()=>{class n{constructor(){this._injector=y(E),this._ngZone=y(S),this._options=y(vt),this.devtoolsExtension=null,this.globalDevtools=O.__REDUX_DEVTOOLS_EXTENSION__||O.devToolsExtension,this.unsubscribe=null,this.connect()}ngOnDestroy(){this.unsubscribe?.(),this.globalDevtools?.disconnect()}get store(){return this._injector.get(mt)}handle(t,o,i){return!this.devtoolsExtension||this._options.disabled?i(t,o):i(t,o).pipe(k(r=>{let a=this.store.snapshot();throw this.sendToDevTools(t,o,a),r}),Q(r=>{this.sendToDevTools(t,o,r)}))}sendToDevTools(t,o,i){let r=pt(o);r===dt.type?this.devtoolsExtension.init(t):this.devtoolsExtension.send(g(d({},o),{action:null,type:r}),i)}dispatched(t){if(t.type==="DISPATCH"){if(t.payload.type==="JUMP_TO_ACTION"||t.payload.type==="JUMP_TO_STATE"){let o=JSON.parse(t.state);o.router&&o.router.trigger&&(o.router.trigger="devtools"),this.store.reset(o)}else if(t.payload.type==="TOGGLE_ACTION")console.warn("Skip is not supported at this time.");else if(t.payload.type==="IMPORT_STATE"){let{actionsById:o,computedStates:i,currentStateIndex:r}=t.payload.nextLiftedState;this.devtoolsExtension.init(i[0].state),Object.keys(o).filter(a=>a!=="0").forEach(a=>this.devtoolsExtension.send(o[a],i[a].state)),this.store.reset(i[r].state)}}else if(t.type==="ACTION"){let o=JSON.parse(t.payload);this.store.dispatch(o)}}connect(){!this.globalDevtools||this._options.disabled||(this.devtoolsExtension=this._ngZone.runOutsideAngular(()=>this.globalDevtools.connect(this._options)),this.unsubscribe=this.devtoolsExtension.subscribe(t=>{(t.type==="DISPATCH"||t.type==="ACTION")&&this.dispatched(t)}))}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=C({token:n,factory:n.\u0275fac})}}return n})();bt=new R("USER_OPTIONS"),Tt=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[gt(ee),{provide:bt,useValue:t},{provide:vt,useFactory:ne,deps:[bt]}]}}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=H({type:n})}static{this.\u0275inj=X({})}}return n})()});var Rt,xt=p(()=>{"use strict";Rt=[{path:"renderer",loadChildren:()=>import("./chunk-7YKEEYTB.js").then(n=>n.FormRendererModule)},{path:"",redirectTo:"/renderer",pathMatch:"full"},{path:"form-configurator",loadChildren:()=>import("./chunk-QS2IZIWF.js").then(n=>n.FormConfiguratorModule)},{path:"form-renderer",loadChildren:()=>import("./chunk-7YKEEYTB.js").then(n=>n.FormRendererModule)}]});var ie=Nt(Mt=>{It();f();Qt();Vt();Pt();At();I();Dt();A();Ot();Zt();xt();kt();zt();var oe=[W(Rt),$(),J(yt.forRoot({positionClass:"toast-bottom-right"}),St,ft.forRoot([m,s]),Ct.production?[]:Tt.forRoot())];P(Mt,null,function*(){try{let e=(yield K({providers:oe})).injector,t=Ft(Et,{injector:e});customElements.get("sil-form-renderer")||customElements.define("sil-form-renderer",t),yield customElements.whenDefined("sil-form-renderer"),console.log('Custom element "sil-form-renderer" has been defined successfully.')}catch(n){console.error("Error setting up custom element:",n)}})});export default ie();
